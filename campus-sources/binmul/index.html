
<!DOCTYPE html>

<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../PU_Bii_assignments/" rel="prev"/>
<link href="../textbook/" rel="next"/>
<link href="../../favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/>
<title>äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…· - Dicaeopolis' Wiki</title>
<link href="../../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../themes/css/custom.css" rel="stylesheet"/>
<link href="../../themes/css/simpleLightbox.min.css" rel="stylesheet"/>
<link href="../../themes/css/pied_piper.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet"/>
<link href="../../stylesheets/customize.css" rel="stylesheet"/>
<link href="../../assets/css/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="é¡µçœ‰" class="md-header__inner md-grid">
<a aria-label="Dicaeopolis' Wiki" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Dicaeopolis' Wiki">
<img alt="logo" src="../../favicon.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Dicaeopolis' Wiki
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
<i class="fas fa-calculator"></i> äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…·
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="æœç´¢" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="æœç´¢" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="æŸ¥æ‰¾" class="md-search__options">
<button aria-label="æ¸…ç©ºå½“å‰å†…å®¹" class="md-search__icon md-icon" tabindex="-1" title="æ¸…ç©ºå½“å‰å†…å®¹" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="æ ‡ç­¾" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../astronomy/">
          
  
  
    
  
  å¤©æ–‡æ‘„å½±ç†è®ºå’Œå®è·µ

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../">
          
  
  
    
  
  æ ¡å†…è¯¾ç¨‹çŸ¥è¯†

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../DNN/">
          
  
  
    
  
  æ·±åº¦ç¥ç»ç½‘ç»œ

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../misc/">
          
  
  
    
  
  é…ç½®å’Œæ‚è°ˆç¬”è®°

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../algorithm/">
          
  
  
    
  
  ä¼ ç»Ÿç®—æ³•ä¸æ€§èƒ½

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="å¯¼èˆªæ " class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Dicaeopolis' Wiki" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Dicaeopolis' Wiki">
<img alt="logo" src="../../favicon.png"/>
</a>
    Dicaeopolis' Wiki
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../astronomy/">
<span class="md-ellipsis">
    
  
    å¤©æ–‡æ‘„å½±ç†è®ºå’Œå®è·µ
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            
  
    å¤©æ–‡æ‘„å½±ç†è®ºå’Œå®è·µ
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../astronomy/gallery/">
<span class="md-ellipsis">
    
  
    æ·±ç©ºå½±é›†
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../astronomy/polar/">
<span class="md-ellipsis">
    
  
    çœ‹ä¸è§åŒ—ææ˜Ÿæ€ä¹ˆåŠ
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../astronomy/%E6%96%B9%E4%BD%8D%E8%B0%83%E8%8A%82/">
<span class="md-ellipsis">
    
  
    æ–¹ä½è°ƒèŠ‚
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../astronomy/%E7%BA%AC%E5%BA%A6%E8%B0%83%E8%8A%82/">
<span class="md-ellipsis">
    
  
    çº¬åº¦è°ƒèŠ‚
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    
  
    æ ¡å†…è¯¾ç¨‹çŸ¥è¯†
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    æ ¡å†…è¯¾ç¨‹çŸ¥è¯†
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../SDC-exams/">
<span class="md-ellipsis">
    
  
    ã€Šè®¡ç®—æœºç»„æˆä¸è®¾è®¡ã€‹éƒ¨åˆ†å†å¹´é¢˜ç›®é¢˜è§£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Discrete_exams/">
<span class="md-ellipsis">
    
  
    ã€Šç¦»æ•£æ•°å­¦ã€‹éƒ¨åˆ†æœŸæœ«é¢˜ç›®é¢˜è§£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Discrete_notes/">
<span class="md-ellipsis">
    
  
    ç¦»æ•£æœŸæœ«å¤ä¹ æçº²
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Descrete_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šç¦»æ•£æ•°å­¦ã€‹è¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Prob_Stats_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹è¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../SDC_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹ç†è®ºè¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../PU_Bii_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šå¤§å­¦ç‰©ç†Bä¸‹ã€‹è¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
<i class="fas fa-calculator"></i> äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…·
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../textbook/">
<span class="md-ellipsis">
    
  
    æœ¬ç§‘æ•™ç§‘ä¹¦ç”µå­èµ„æº
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ds-keynote/">
<span class="md-ellipsis">
    
  
    ã€Šæ•°æ®ç»“æ„ã€‹åˆ’é‡ç‚¹ç¬”è®°
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../ds-write-up/">
<span class="md-ellipsis">
    
  
    ã€Šæ•°æ®ç»“æ„ã€‹æœŸæœ«å¤ä¹ é¢˜é¢˜è§£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../autosignin/">
<span class="md-ellipsis">
    
  
    è‡ªåŠ¨ç­¾åˆ°è„šæœ¬
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../DNN/">
<span class="md-ellipsis">
    
  
    æ·±åº¦ç¥ç»ç½‘ç»œ
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    æ·±åº¦ç¥ç»ç½‘ç»œ
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/match/">
<span class="md-ellipsis">
    
  
    å¦‚ä½•åšå››å…­çº§è€ƒè¯•çš„æ®µè½åŒ¹é…é¢˜
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/BP/">
<span class="md-ellipsis">
    
  
    å‰é¦ˆç¥ç»ç½‘ç»œçš„åå‘ä¼ æ’­
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/RL/">
<span class="md-ellipsis">
    
  
    RLå­¦ä¹ ç¬”è®° - ä¸Šç¯‡
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/SVM_SMO/">
<span class="md-ellipsis">
    
  
    SMO ç®—æ³•çš„æ¨å¯¼
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Wp
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            
  
    Wp
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/WP/aiwp/">
<span class="md-ellipsis">
    
  
    MISC-AI æ–¹å‘ WriteUp
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../DNN/model-attack/">
<span class="md-ellipsis">
    
  
    æ·±åº¦å­¦ä¹ æ¨¡å‹æ”»å‡»ç†è®ºä¸å¤ç°å½’æ¡£
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
            
  
    æ·±åº¦å­¦ä¹ æ¨¡å‹æ”»å‡»ç†è®ºä¸å¤ç°å½’æ¡£
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-attack/hsja/">
<span class="md-ellipsis">
    
  
    HSJA æ”»å‡»
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-attack/BadNets/">
<span class="md-ellipsis">
    
  
    BadNets
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-attack/CandW/">
<span class="md-ellipsis">
    
  
    C&amp;W æ”»å‡»
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-attack/pgd/">
<span class="md-ellipsis">
    
  
    PGD æ”»å‡»
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-attack/fgsm/">
<span class="md-ellipsis">
    
  
    FGSM æ”»å‡»
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../DNN/model-expr/">
<span class="md-ellipsis">
    
  
    æ·±åº¦å­¦ä¹ ç›¸å…³æ¨¡å‹ç†è®ºä¸å¤ç°å½’æ¡£
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_8">
<span class="md-nav__icon md-icon"></span>
            
  
    æ·±åº¦å­¦ä¹ ç›¸å…³æ¨¡å‹ç†è®ºä¸å¤ç°å½’æ¡£
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-expr/DDPM/">
<span class="md-ellipsis">
    
  
    æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ—
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-expr/S-and-D-models-replication/">
<span class="md-ellipsis">
    
  
    å›¾åƒè¯­ä¹‰åˆ†å‰²å’Œç›®æ ‡æ£€æµ‹ç›¸å…³æ¨¡å‹å¤ç°æ‰‹è®°
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-expr/Image-models-replication/">
<span class="md-ellipsis">
    
  
    å›¾åƒåˆ†ç±»ç›¸å…³æ¨¡å‹å¤ç°æ‰‹è®°
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/model-expr/DC-GAN-%E8%80%81%E5%A9%86%E7%94%9F%E6%88%90%E5%99%A8/">
<span class="md-ellipsis">
    
  
    DC-GAN è€å©†ç”Ÿæˆå™¨
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../DNN/optimizer/">
<span class="md-ellipsis">
    
  
    ä¼˜åŒ–å™¨
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_9">
<span class="md-nav__icon md-icon"></span>
            
  
    ä¼˜åŒ–å™¨
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/optimizer/misc/">
<span class="md-ellipsis">
    
  
    åç»­çš„å†™ä½œè®¡åˆ’
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/optimizer/SignGD/">
<span class="md-ellipsis">
    
  
    ç¬¦å·æ¢¯åº¦ä¸‹é™
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/optimizer/Adaptive/">
<span class="md-ellipsis">
    
  
    è‡ªé€‚åº”å­¦ä¹ ç‡æ”¹è¿›ç­–ç•¥
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../DNN/optimizer/SGD/">
<span class="md-ellipsis">
    
  
    SGD ç³»åˆ—ç®—æ³•
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../misc/">
<span class="md-ellipsis">
    
  
    é…ç½®å’Œæ‚è°ˆç¬”è®°
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    é…ç½®å’Œæ‚è°ˆç¬”è®°
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../misc/test/">
<span class="md-ellipsis">
    
  
    åŠŸèƒ½æµ‹è¯•é¡µé¢
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../algorithm/">
<span class="md-ellipsis">
    
  
    ä¼ ç»Ÿç®—æ³•ä¸æ€§èƒ½
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            
  
    ä¼ ç»Ÿç®—æ³•ä¸æ€§èƒ½
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../algorithm/benchmark-on-stl/">
<span class="md-ellipsis">
    
  
    STLçš„ä¸€äº›æ€§èƒ½æµ‹è¯•
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../algorithm/stl-wheels/">
<span class="md-ellipsis">
    
  
    å—¯é€ è½®å­
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../algorithm/template-on-numeric-ring/">
<span class="md-ellipsis">
    
  
    æ•´æ•°ç¯å–æ¨¡æ¨¡æ¿
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="ç›®å½•" class="md-nav md-nav--secondary">
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<div class="admonition info">
<p class="admonition-title">ğŸ“– é˜…è¯»ä¿¡æ¯</p>
<p>é˜…è¯»æ—¶é—´çº¦ <strong>7</strong> åˆ†é’Ÿã€€|ã€€çº¦ <strong>1393</strong> å­—ã€€|ã€€æ²¡æœ‰ä»£ç ï¼Œè¯·æ”¾å¿ƒé£Ÿç”¨</p>
</div>
<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…·</title>
<style> .md-sidebar.md-sidebar--secondary { display: none !important; } </style>
<style> .md-sidebar.md-sidebar--primary { display: none !important; } </style>
<style>
  :root{
    --primary-color:#3498db;
    --secondary-color:#2980b9;
    --accent-color:#ff7e5f;
    --dark-color:#2c3e50;
    --success-color:#2ecc71;
    --warning-color:#f39c12;
    --danger-color:#e74c3c;
    --bit-size:28px;
    --gap-size:4px;
    --steps-height:320px;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
    max-width:1200px;margin:0 auto;padding:20px;
    background:#303341;color:#333;line-height:1.6;
  }
  h1,h2,h3{color:var(--dark-color);margin-bottom:15px}
  .header{
    text-align:center;margin-bottom:30px;padding:20px;
    background:linear-gradient(135deg,var(--primary-color),var(--secondary-color));
    color:#fff;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,.1)
  }
  .header p{max-width:800px;margin:0 auto;font-size:1.05em}
  .container{
    background:#fff;border-radius:10px;padding:18px;
    box-shadow:0 2px 15px rgba(0,0,0,.05);margin-bottom:18px
  }
  .control-panel{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
    gap:14px;margin-bottom:10px
  }
  .input-group{margin-bottom:8px}
  label{display:block;margin-bottom:6px;font-weight:600;color:var(--dark-color)}
  select,input{
    width:100%;padding:10px 12px;border:2px solid #ddd;border-radius:6px;font-size:16px;transition:border-color .3s
  }
  select:focus,input:focus{border-color:var(--primary-color);outline:none}
  .btn-group{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}
  button{
    padding:10px 16px;border:none;border-radius:6px;font-size:15px;font-weight:600;cursor:pointer;
    transition:all .3s;display:inline-flex;align-items:center;justify-content:center
  }
  button i{margin-right:8px}
  .btn-primary{background:var(--primary-color);color:#fff}.btn-primary:hover{background:var(--secondary-color)}
  .btn-success{background:var(--success-color);color:#fff}.btn-success:hover{background:#27ae60}
  .btn-warning{background:var(--warning-color);color:#fff}.btn-warning:hover{background:#e67e22}
  .btn-danger{background:var(--danger-color);color:#fff}.btn-danger:hover{background:#c0392b}
  .btn-light{background:#eef2f7;color:#2c3e50;border:1px solid #d0d7de}.btn-light:hover{background:#e4e9ef}
  button:disabled{background:#bdc3c7;cursor:not-allowed;opacity:.7}
  .explanation{
    background:#e8f4f8;border-left:4px solid var(--primary-color);padding:14px;margin:12px 0;border-radius:0 8px 8px 0;font-size:15px
  }
  .process-layout{
    display:grid;grid-template-columns:minmax(0,1.7fr) minmax(280px,1fr);
    gap:16px;align-items:start
  }
  .left-pane,.right-pane{min-width:0}
  .registers-container{
    display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
    gap:12px;margin-bottom:12px
  }
  .register-group{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:10px}
  .register-group.wide{grid-column:1 / -1}
  .register-title{
    font-weight:bold;margin-bottom:10px;color:var(--dark-color);font-size:16px;display:flex;align-items:center
  }
  .register-title i{margin-right:8px;color:var(--primary-color)}
  .bits-container{display:flex;flex-wrap:wrap;gap:var(--gap-size);margin-bottom:6px}
  .bits-line{display:flex;gap:var(--gap-size)}
  .bit{
    width:var(--bit-size);height:var(--bit-size);display:inline-flex;align-items:center;justify-content:center;
    border:1px solid #e0e0e0;border-radius:6px;font-family:monospace;font-weight:700;font-size:14px;background:#fff;transition:opacity .35s ease, transform .35s ease;user-select:none
  }
  .bit-0{background:#f0f8ff;color:#3498db}
  .bit-1{background:#e3f2fd;color:#e74c3c;font-weight:800}

  /* åŠ æ³•åå˜åŠ¨ä½ï¼šæ·¡å…¥åŠ¨ç”» */
  .bit-fade-in{opacity:0;transform:scale(0.96)}
  .bit-fade-in.ready{opacity:1;transform:scale(1)}

  /* ç»“æœå¯„å­˜å™¨ï¼šä¸¤åŠç€è‰²ï¼Œä½å®½å˜åŒ–è‡ªåŠ¨å¯¹åº” */
  .result-row{
    position:relative;padding:6px;border:1px solid #dfe7f1;border-radius:6px;overflow:hidden;
  }
  .result-bits{display:flex;gap:0}
  .half{display:flex;gap:var(--gap-size)}
  .half-A{background:#eef6ff}
  .half-Q{background:#fff2ef;margin-left:var(--gap-size)}
  /* è®©åŠåŒºèƒŒæ™¯ç´§è´´æ¯”ç‰¹å— */
  .half .bit{background:transparent}

  /* ç§»ä½åŠ¨ç”»è¦†ç›–å±‚ */
  .shift-overlay{position:absolute;left:6px;right:6px;top:6px;bottom:6px;pointer-events:none}
  .ghost-line{display:flex;gap:var(--gap-size)}
  .shift-ghost{transform:translateX(0);transition:transform .45s ease;opacity:.9}
  .shift-ghost.move{transform:translateX(calc(var(--bit-size) + var(--gap-size)))}
  .shift-enter{
    position:absolute;left:6px;top:6px;width:var(--bit-size);height:var(--bit-size);
    opacity:0;transform:translateX(calc(-1 * (var(--bit-size) + var(--gap-size))));
    animation:enterFromLeft .45s ease-out .05s forwards
  }
  .shift-exit{animation:fadeOut .40s linear .35s forwards}
  @keyframes enterFromLeft{to{transform:translateX(0);opacity:1}}
  @keyframes fadeOut{to{opacity:0}}

  .register-value{
    text-align:left;font-family:monospace;font-size:14px;margin-top:6px;padding:6px;background:#f1f8e9;border-radius:4px;color:#33691e
  }
  .register-labels{display:flex;justify-content:space-between;margin:2px 0 6px;font-size:13px;color:#7f8c8d}

  .inline-chips{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
  .chip{
    display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;background:#eef2f7;border:1px solid #d0d7de;
    font-family:monospace;font-weight:700;font-size:14px;color:#2c3e50
  }
  .chip.small{padding:3px 8px;font-size:13px}

  /* å³ä¾§æ­¥éª¤ï¼šå›ºå®šé«˜åº¦ï¼Œåº•éƒ¨å¯¹é½è§†å£åº•éƒ¨ */
  .steps-card{
    background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;padding:12px;height:var(--steps-height);
    position:sticky;bottom:16px;display:flex;flex-direction:column
  }
  .steps-title{font-weight:bold;color:var(--dark-color);display:flex;align-items:center;margin-bottom:8px;font-size:16px}
  .steps-title i{margin-right:8px;color:var(--primary-color)}
  .steps-container{flex:1;overflow:auto}
  .step{padding:10px 12px;border-left:4px solid var(--primary-color);background:#fff;border-radius:0 8px 8px 0;font-size:15px;line-height:1.65}
  .step h4{margin-bottom:8px;font-size:16px}
  .step p{margin:6px 0}

  .result{
    padding:14px;background:#e8f5e9;border-radius:8px;margin-top:14px;text-align:center;font-size:16px;font-weight:bold;color:#2e7d32;
    box-shadow:0 2px 10px rgba(0,0,0,.05)
  }
  .result-error{background:#ffebee;color:#c62828}
  .animation-controls{display:flex;align-items:center;gap:12px;margin-top:8px}
  .speed-control{display:flex;align-items:center}
  .speed-control label{margin-right:8px;margin-bottom:0}
  .btn-group-compact{display:flex;gap:8px;flex-wrap:wrap}
  .btn-group-compact button{flex:1 1 120px}
  @media (max-width:992px){.process-layout{grid-template-columns:1fr}}
  @media (max-width:768px){
    .control-panel{grid-template-columns:1fr}
    .btn-group{flex-direction:column}
    button{width:100%}
    .bits-container{gap:3px}
    .bit{width:26px;height:26px;font-size:13px}
  }
</style>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</link></meta></meta></head>
<body>
<div class="header">
<h1><i class="fas fa-calculator"></i> äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…·</h1>
<p>æ”¯æŒæ— ç¬¦å·ä¹˜æ³•ã€åŸç ä¹˜æ³•ä¸ Boothï¼ˆè¡¥ç ï¼‰ä¹˜æ³•ã€‚æ”¯æŒå•æ­¥ã€å›é€€ä¸è‡ªåŠ¨æ’­æ”¾ã€‚</p>
</div>
<div class="container">
<h2><i class="fas fa-cog"></i> å‚æ•°è®¾ç½®</h2>
<div class="control-panel">
<div class="input-group">
<label for="multiplicationType"><i class="fas fa-clipboard-list"></i> ä¹˜æ³•ç±»å‹:</label>
<select id="multiplicationType">
<option value="unsigned">æ— ç¬¦å·ä¹˜æ³•</option>
<option value="signMagnitude">åŸç ä¹˜æ³•</option>
<option value="booth">è¡¥ç ä¹˜æ³• (Booth ç®—æ³•)</option>
</select>
</div>
<div class="input-group">
<label for="bitLength"><i class="fas fa-ruler-combined"></i> ä½æ•°:</label>
<select id="bitLength">
<option value="4">4ä½</option>
<option selected="" value="8">8ä½</option>
<option value="16">16ä½</option>
</select>
</div>
<div class="input-group">
<label for="operand1"><i class="fas fa-hashtag"></i> è¢«ä¹˜æ•° (åè¿›åˆ¶):</label>
<input id="operand1" type="number" value="5">
</input></div>
<div class="input-group">
<label for="operand2"><i class="fas fa-hashtag"></i> ä¹˜æ•° (åè¿›åˆ¶):</label>
<input id="operand2" type="number" value="3">
</input></div>
</div>
<div class="btn-group">
<button class="btn-primary" id="initializeBtn"><i class="fas fa-play"></i> åˆå§‹åŒ–è®¡ç®—</button>
<button class="btn-light" disabled="" id="prevBtn"><i class="fas fa-step-backward"></i> ä¸Šä¸€æ­¥</button>
<button class="btn-success" disabled="" id="stepBtn"><i class="fas fa-step-forward"></i> ä¸‹ä¸€æ­¥</button>
<button class="btn-warning" disabled="" id="autoBtn"><i class="fas fa-play-circle"></i> è‡ªåŠ¨æ’­æ”¾</button>
<button class="btn-danger" id="resetBtn"><i class="fas fa-redo"></i> é‡ç½®</button>
</div>
<div class="animation-controls">
<div class="speed-control">
<label for="animationSpeed"><i class="fas fa-tachometer-alt"></i> åŠ¨ç”»é€Ÿåº¦:</label>
<select id="animationSpeed">
<option value="1000">æ…¢</option>
<option selected="" value="500">ä¸­</option>
<option value="200">å¿«</option>
</select>
</div>
</div>
</div>
<div class="container">
<h2><i class="fas fa-calculator"></i> è®¡ç®—è¿‡ç¨‹</h2>
<div class="process-layout">
<div class="left-pane">
<div class="explanation" id="explanation">
<p><i class="fas fa-info-circle"></i> ç‚¹å‡»â€œåˆå§‹åŒ–è®¡ç®—â€å¼€å§‹ã€‚ä½¿ç”¨â€œä¸‹ä¸€æ­¥/ä¸Šä¸€æ­¥â€é€æ­¥æŸ¥çœ‹ã€‚å³ä¾§åªæ˜¾ç¤ºå½“å‰ä¸€æ­¥çš„è¯´æ˜ã€‚</p>
</div>
<h3><i class="fas fa-microchip"></i> å¯„å­˜å™¨çŠ¶æ€</h3>
<div class="registers-container" id="registers"></div>
<div class="result" id="result"></div>
</div>
<div class="right-pane">
<div class="steps-card">
<div class="steps-title"><i class="fas fa-list-ol"></i> æ­¥éª¤è¯´æ˜ï¼ˆä»…å½“å‰ä¸€æ­¥ï¼‰</div>
<div class="steps-container" id="steps"></div>
</div>
</div>
</div>
</div>
<script>
  // å…¨å±€çŠ¶æ€
  let currentStep = 0;
  let multiplication = null;
  let autoInterval = null;

  // DOM
  const multiplicationTypeEl = document.getElementById('multiplicationType');
  const bitLengthEl = document.getElementById('bitLength');
  const operand1El = document.getElementById('operand1');
  const operand2El = document.getElementById('operand2');
  const initializeBtn = document.getElementById('initializeBtn');
  const prevBtn = document.getElementById('prevBtn');
  const stepBtn = document.getElementById('stepBtn');
  const autoBtn = document.getElementById('autoBtn');
  const resetBtn = document.getElementById('resetBtn');
  const explanationEl = document.getElementById('explanation');
  const registersEl = document.getElementById('registers');
  const stepsEl = document.getElementById('steps');
  const resultEl = document.getElementById('result');
  const animationSpeedEl = document.getElementById('animationSpeed');

  class BinaryMultiplication {
    constructor(type, bitLength, operand1, operand2) {
      this.type = type;
      this.n = parseInt(bitLength);
      this.operand1 = parseInt(operand1);
      this.operand2 = parseInt(operand2);
      this.steps = [];
      this.valid = true;

      this.initializeRegisters();

      if (!this.validateInputs()) {
        this.valid = false;
        this.addStep("ç³»ç»Ÿæ£€æµ‹åˆ°å‚æ•°è¶…å‡ºå½“å‰ä½å®½å¯è¡¨ç¤ºçš„èŒƒå›´ã€‚è¯·è°ƒæ•´ä½å®½æˆ–æ•°å€¼åé‡æ–°åˆå§‹åŒ–ã€‚");
        return;
      }

      if (type === 'unsigned') this.unsignedMultiplication();
      else if (type === 'signMagnitude') this.signMagnitudeMultiplication();
      else if (type === 'booth') this.boothMultiplication();
    }

    validateInputs() {
      const maxUnsigned = Math.pow(2, this.n) - 1;
      const minSigned = -Math.pow(2, this.n - 1);
      const maxSigned = Math.pow(2, this.n - 1) - 1;
      if (this.type === 'unsigned') {
        if (this.operand1 < 0 || this.operand1 > maxUnsigned || this.operand2 < 0 || this.operand2 > maxUnsigned) {
          alert(`å¯¹äº ${this.n} ä½æ— ç¬¦å·ä¹˜æ³•ï¼Œæ“ä½œæ•°å¿…é¡»åœ¨ 0 åˆ° ${maxUnsigned} ä¹‹é—´`);
          return false;
        }
      } else {
        if (this.operand1 < minSigned || this.operand1 > maxSigned || this.operand2 < minSigned || this.operand2 > maxSigned) {
          alert(`å¯¹äº ${this.n} ä½æœ‰ç¬¦å·ä¹˜æ³•ï¼Œæ“ä½œæ•°å¿…é¡»åœ¨ ${minSigned} åˆ° ${maxSigned} ä¹‹é—´`);
          return false;
        }
      }
      return true;
    }

    initializeRegisters() {
      if (this.type === 'unsigned') {
        this.A = Array(this.n).fill(0);
        this.Q = this.toUnsignedBinary(this.operand2);
        this.M = this.toUnsignedBinary(this.operand1);
        this.C = 0;
        this.counter = this.n;
        this.addStep(
          "ç³»ç»ŸæŠŠ A ç½®ä¸ºå…¨ 0ï¼ŒæŠŠ Q å†™å…¥ä¹˜æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒæŠŠ M å†™å…¥è¢«ä¹˜æ•°çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒæŠŠ C ç½®ä¸º 0ï¼Œå¹¶æŠŠè®¡æ•°å™¨ç½®ä¸ºä½å®½ nã€‚",
          { A: this.A.join(''), Q: this.Q.join(''), M: this.M.join(''), C: this.C, counter: this.counter }
        );
      } else if (this.type === 'signMagnitude') {
        this.sign = (this.operand1 < 0 ? 1 : 0) ^ (this.operand2 < 0 ? 1 : 0);
        this.A = Array(this.n).fill(0);
        this.Q = this.toUnsignedBinary(Math.abs(this.operand2));
        this.M = this.toUnsignedBinary(Math.abs(this.operand1));
        this.counter = this.n;
        this.addStep(
          "ç³»ç»ŸæŠŠ A ç½®ä¸ºå…¨ 0ï¼ŒæŠŠ Q å†™å…¥ |ä¹˜æ•°| çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼ŒæŠŠ M å†™å…¥ |è¢«ä¹˜æ•°| çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œå¹¶æŠŠè®¡æ•°å™¨ç½®ä¸º nã€‚ç³»ç»ŸåŒæ—¶è®¡ç®—ç»“æœçš„ç¬¦å·ä½ï¼ˆè¢«ä¹˜æ•°ç¬¦å· XOR ä¹˜æ•°ç¬¦å·ï¼‰ã€‚",
          { A: this.A.join(''), Q: this.Q.join(''), M: this.M.join(''), sign: this.sign, counter: this.counter }
        );
        this.addStep(`ç³»ç»Ÿè®¡ç®—ç»“æœç¬¦å·ä½ï¼šè¢«ä¹˜æ•°ç¬¦å· ${this.operand1 < 0 ? 1 : 0} XOR ä¹˜æ•°ç¬¦å· ${this.operand2 < 0 ? 1 : 0}ï¼Œå¾—åˆ° ${this.sign}ã€‚`);
      } else if (this.type === 'booth') {
        this.A = Array(this.n).fill(0);
        this.Q = this.toTwosComplement(this.operand2);
        this.M = this.toTwosComplement(this.operand1);
        this.Q_minus1 = 0;
        this.counter = this.n;
        this.M_minus = this.toTwosComplement(-this.operand1);
        this.addStep(
          "ç³»ç»ŸæŠŠ A ç½®ä¸ºå…¨ 0ï¼ŒæŠŠ Q å†™å…¥ä¹˜æ•°çš„è¡¥ç è¡¨ç¤ºï¼ŒæŠŠ M å†™å…¥è¢«ä¹˜æ•°çš„è¡¥ç è¡¨ç¤ºï¼ŒæŠŠ Q_{-1} ç½®ä¸º 0ï¼Œå¹¶æŠŠè®¡æ•°å™¨ç½®ä¸º nã€‚ç³»ç»Ÿé¢„å…ˆè®¡ç®— âˆ’M çš„è¡¥ç ä»¥ä¾¿ä½¿ç”¨ã€‚",
          { A: this.A.join(''), Q: this.Q.join(''), M: this.M.join(''), "M_minus": this.M_minus.join(''), "Q_-1": this.Q_minus1, counter: this.counter }
        );
      }
    }

    // æ— ç¬¦å·ä¹˜æ³•
    unsignedMultiplication() {
      this.addStep("ç³»ç»Ÿå¼€å§‹æ— ç¬¦å·ä¹˜æ³•ã€‚æ¯ä¸€è½®ä¸­ï¼Œç³»ç»Ÿè¯»å– Q çš„æœ€ä½ä½ Q0ï¼›å¦‚æœ Q0 ä¸º 1ï¼Œç³»ç»ŸæŠŠ M åŠ åˆ° Aï¼Œå¹¶æŠŠäº§ç”Ÿçš„è¿›ä½å†™å…¥ Cã€‚éšåï¼Œç³»ç»ŸæŠŠ (C, A, Q) çœ‹ä½œè¿ç»­å¯„å­˜å™¨å¹¶æ•´ä½“å³ç§»ä¸€ä½ã€‚");

      while (this.counter > 0) {
        const stepNum = this.n - this.counter + 1;
        this.addStep(`ç¬¬ ${stepNum} è½®ï¼šç³»ç»Ÿè¯»å– Q çš„æœ€ä½ä½ Q0 = ${this.Q[this.n - 1]}ã€‚å¦‚æœ Q0 ä¸º 1ï¼Œç³»ç»ŸæŠŠ M åŠ åˆ° Aï¼›å¦‚æœ Q0 ä¸º 0ï¼Œç³»ç»Ÿè·³è¿‡åŠ æ³•ã€‚`);

        if (this.Q[this.n - 1] === 1) {
          this.addStep("ç³»ç»Ÿæ‰§è¡ŒåŠ æ³•ï¼šA â† A + Mã€‚ç³»ç»ŸæŠŠæº¢å‡ºçš„è¿›ä½å†™å…¥ Cï¼Œå¹¶åªä¿ç•™ A çš„ä½ n ä½ã€‚");
          this.addBinaryArrays();
          this.addStep(`åŠ æ³•ç»“æŸï¼šæ­¤æ—¶ A = ${this.A.join('')}ï¼ŒC = ${this.C}ã€‚`);
        }

        this.addStep("ç³»ç»ŸæŠŠ (C, A, Q) ä½œä¸ºä¸€ä¸ªè¿ç»­å¯„å­˜å™¨æ•´ä½“å³ç§»ä¸€ä½ã€‚ç³»ç»ŸæŠŠ A çš„æœ€ä½ä½å†™å…¥ Q çš„æœ€é«˜ä½ï¼Œå¹¶æŠŠ C å†™å…¥ A çš„æœ€é«˜ä½ã€‚");
        this.shiftRight();
        this.addStep(`å³ç§»å®Œæˆï¼šæ­¤æ—¶ C = ${this.C}ï¼ŒA = ${this.A.join('')}ï¼ŒQ = ${this.Q.join('')}ã€‚`);

        this.counter--;
        this.addStep(`ç³»ç»ŸæŠŠè®¡æ•°å™¨å‡ä¸€ï¼šcounter â† ${this.counter}ã€‚`);
      }

      const product = this.A.concat(this.Q).join('');
      const decimalProduct = parseInt(product, 2);
      this.addStep(`è®¡ç®—ç»“æŸï¼šç³»ç»Ÿç»™å‡ºæœ€ç»ˆä¹˜ç§¯ã€‚äºŒè¿›åˆ¶ç»“æœä¸º ${product}ï¼Œåè¿›åˆ¶ç»“æœä¸º ${decimalProduct}ã€‚`);
    }

    // åŸç ä¹˜æ³•
    signMagnitudeMultiplication() {
      this.addStep("ç³»ç»Ÿå¼€å§‹åŸç ä¹˜æ³•ã€‚æ¯ä¸€è½®ä¸­ï¼Œç³»ç»Ÿè¯»å– Q çš„æœ€ä½ä½ Q0ï¼›å¦‚æœ Q0 ä¸º 1ï¼Œç³»ç»ŸæŠŠ M åŠ åˆ° A å¹¶å¿½ç•¥è¿›ä½ã€‚éšåï¼Œç³»ç»Ÿå¯¹ (A, Q) åšå³ç§»ï¼šç³»ç»ŸæŠŠ A çš„æœ€ä½ä½å†™å…¥ Q çš„æœ€é«˜ä½ï¼Œå¹¶æŠŠ A çš„æœ€é«˜ä½è¡¥ 0ã€‚æœ€ç»ˆçš„ç¬¦å·ä½åœ¨åˆå§‹åŒ–é˜¶æ®µå·²ç¡®å®šã€‚");

      while (this.counter > 0) {
        const stepNum = this.n - this.counter + 1;
        this.addStep(`ç¬¬ ${stepNum} è½®ï¼šç³»ç»Ÿè¯»å– Q çš„æœ€ä½ä½ Q0 = ${this.Q[this.n - 1]}ã€‚å¦‚æœ Q0 ä¸º 1ï¼Œç³»ç»ŸæŠŠ M åŠ åˆ° Aï¼›å¦‚æœ Q0 ä¸º 0ï¼Œç³»ç»Ÿè·³è¿‡åŠ æ³•ã€‚`);

        if (this.Q[this.n - 1] === 1) {
          this.addStep("ç³»ç»Ÿæ‰§è¡ŒåŠ æ³•ï¼šA â† A + Mã€‚ç³»ç»Ÿå¿½ç•¥åŠ æ³•äº§ç”Ÿçš„è¿›ä½ï¼Œå¹¶åªä¿ç•™ A çš„ä½ n ä½ã€‚");
          this.addBinaryArraysNoCarry();
          this.addStep(`åŠ æ³•ç»“æŸï¼šæ­¤æ—¶ A = ${this.A.join('')}ã€‚`);
        }

        this.addStep("ç³»ç»Ÿå¯¹ (A, Q) å„å³ç§»ä¸€ä½ã€‚ç³»ç»ŸæŠŠ A çš„æœ€ä½ä½å†™å…¥ Q çš„æœ€é«˜ä½ï¼Œå¹¶æŠŠ A çš„æœ€é«˜ä½è¡¥ 0ã€‚");
        this.shiftRightNoCarry();
        this.addStep(`å³ç§»å®Œæˆï¼šæ­¤æ—¶ A = ${this.A.join('')}ï¼ŒQ = ${this.Q.join('')}ã€‚`);

        this.counter--;
        this.addStep(`ç³»ç»ŸæŠŠè®¡æ•°å™¨å‡ä¸€ï¼šcounter â† ${this.counter}ã€‚`);
      }

      const magnitude = this.A.concat(this.Q).join('');
      const product = (this.sign ? '1' : '0') + magnitude;
      const decimalMagnitude = parseInt(magnitude, 2);
      const decimalProduct = this.sign ? -decimalMagnitude : decimalMagnitude;
      this.addStep(`è®¡ç®—ç»“æŸï¼šç³»ç»Ÿæ ¹æ®å·²ç¡®å®šçš„ç¬¦å·ä½ä¸æ•°å€¼éƒ¨åˆ†ç»™å‡ºç»“æœã€‚äºŒè¿›åˆ¶ç»“æœä¸º ${product}ï¼Œåè¿›åˆ¶ç»“æœä¸º ${decimalProduct}ã€‚`);
    }

    // Booth ä¹˜æ³•ï¼ˆè¡¥ç ï¼‰
    boothMultiplication() {
      this.addStep("ç³»ç»Ÿå¼€å§‹ Booth ä¹˜æ³•ã€‚æ¯ä¸€è½®ä¸­ï¼Œç³»ç»Ÿè¯»å– Q çš„æœ€ä½ä½ Q0 å’Œ Q_{-1}ã€‚å½“ (Q0, Q_{-1}) ä¸º (0, 1) æ—¶ï¼Œç³»ç»ŸæŠŠ M åŠ åˆ° Aï¼›å½“ (1, 0) æ—¶ï¼Œç³»ç»ŸæŠŠ âˆ’M åŠ åˆ° Aï¼›å½“ä¸¤ä½ç›¸åŒï¼ˆ0,0 æˆ– 1,1ï¼‰æ—¶ï¼Œç³»ç»Ÿä¸è¿›è¡ŒåŠ æ³•ã€‚éšåï¼Œç³»ç»Ÿå¯¹ (A, Q, Q_{-1}) åšä¸€æ¬¡ç®—æœ¯å³ç§»ï¼šç³»ç»Ÿä¿æŒ A çš„æœ€é«˜ä½ä¸å˜ï¼ŒæŠŠ A çš„æœ€ä½ä½å†™å…¥ Q çš„æœ€é«˜ä½ï¼Œå¹¶æŠŠ Q çš„æœ€ä½ä½å†™å…¥ Q_{-1}ã€‚");

      while (this.counter > 0) {
        const stepNum = this.n - this.counter + 1;
        const q0 = this.Q[this.n - 1];
        const qm1 = this.Q_minus1;

        this.addStep(`ç¬¬ ${stepNum} è½®ï¼šç³»ç»Ÿè¯»å– Q0 = ${q0} ä¸ Q_{-1} = ${qm1}ã€‚å½“å®ƒä»¬ä¸º (0, 1) æ—¶ï¼Œç³»ç»ŸæŠŠ M åŠ åˆ° Aï¼›å½“å®ƒä»¬ä¸º (1, 0) æ—¶ï¼Œç³»ç»ŸæŠŠ âˆ’M åŠ åˆ° Aï¼›å½“å®ƒä»¬ç›¸åŒï¼Œç³»ç»Ÿä¿æŒ A ä¸å˜ã€‚`);

        if (q0 === 0 && qm1 === 1) {
          this.addStep("ç³»ç»Ÿæ‰§è¡ŒåŠ æ³•ï¼šA â† A + Mï¼ˆè¡¥ç åŠ æ³•ï¼Œç³»ç»Ÿå¿½ç•¥æœ€ç»ˆæº¢å‡ºï¼‰ã€‚");
          this.addBinaryArraysTwosComplement(this.M);
        } else if (q0 === 1 && qm1 === 0) {
          this.addStep("ç³»ç»Ÿæ‰§è¡ŒåŠ æ³•ï¼šA â† A + (âˆ’M)ï¼ˆè¡¥ç åŠ æ³•ï¼Œç³»ç»Ÿå¿½ç•¥æœ€ç»ˆæº¢å‡ºï¼‰ã€‚");
          this.addBinaryArraysTwosComplement(this.M_minus);
        } else {
          this.addStep("ç³»ç»Ÿä¸æ‰§è¡ŒåŠ æ³•ï¼šA ä¿æŒä¸å˜ã€‚");
        }
        this.addStep(`åŠ æ³•ç»“æŸï¼šæ­¤æ—¶ A = ${this.A.join('')}ã€‚`);

        this.addStep("ç³»ç»Ÿå¯¹ (A, Q, Q_{-1}) æ‰§è¡Œç®—æœ¯å³ç§»ä¸€ä½ã€‚ç³»ç»Ÿä¿æŒ A çš„æœ€é«˜ä½ä¸å˜ï¼ŒæŠŠ A çš„æœ€ä½ä½å†™å…¥ Q çš„æœ€é«˜ä½ï¼Œå¹¶æŠŠ Q çš„æœ€ä½ä½å†™å…¥ Q_{-1}ã€‚");
        this.arithmeticShiftRight();
        this.addStep(`å³ç§»å®Œæˆï¼šæ­¤æ—¶ A = ${this.A.join('')}ï¼ŒQ = ${this.Q.join('')}ï¼ŒQ_{-1} = ${this.Q_minus1}ã€‚`);

        this.counter--;
        this.addStep(`ç³»ç»ŸæŠŠè®¡æ•°å™¨å‡ä¸€ï¼šcounter â† ${this.counter}ã€‚`);
      }

      const product = this.A.concat(this.Q).join('');
      const decimalProduct = this.fromTwosComplement(product);
      this.addStep(`è®¡ç®—ç»“æŸï¼šç³»ç»Ÿç»™å‡ºç»“æœã€‚äºŒè¿›åˆ¶ç»“æœä¸º ${product}ï¼Œåè¿›åˆ¶ç»“æœä¸º ${decimalProduct}ã€‚`);
    }

    // å·¥å…·
    toUnsignedBinary(number){
      let b = number.toString(2);
      while (b.length < this.n) b = '0' + b;
      return b.split('').map(x => parseInt(x));
    }
    toTwosComplement(number){
      if (number >= 0) return this.toUnsignedBinary(number);
      const p = this.toUnsignedBinary(-number);
      const inv = p.map(x => x ? 0 : 1);
      let carry = 1, res = [];
      for (let i = inv.length - 1; i >= 0; i--){
        const s = inv[i] + carry;
        res.unshift(s & 1);
        carry = s >> 1;
      }
      return res;
    }
    fromTwosComplement(str){
      const bits = str.split('').map(x => parseInt(x));
      if (bits[0] === 1){
        // è´Ÿæ•°ï¼šå‡ 1 å†å–å
        let borrow = 1, sub = [];
        for (let i = bits.length - 1; i >= 0; i--){
          let v = bits[i] - borrow;
          if (v < 0){ v = 1; borrow = 1; } else { borrow = 0; }
          sub.unshift(v);
        }
        const inv = sub.map(x => x ? 0 : 1);
        const pos = parseInt(inv.join(''), 2);
        return -pos;
      }
      return parseInt(str, 2);
    }

    addBinaryArrays(){
      let carry = 0;
      for (let i = this.n - 1; i >= 0; i--){
        const sum = this.A[i] + this.M[i] + carry;
        this.A[i] = sum & 1;
        carry = sum >> 1;
      }
      this.C = carry;
    }
    addBinaryArraysNoCarry(){
      let carry = 0;
      for (let i = this.n - 1; i >= 0; i--){
        const sum = this.A[i] + this.M[i] + carry;
        this.A[i] = sum & 1;
        carry = sum >> 1;
      }
    }
    addBinaryArraysTwosComplement(addend){
      let carry = 0;
      for (let i = this.n - 1; i >= 0; i--){
        const sum = this.A[i] + addend[i] + carry;
        this.A[i] = sum & 1;
        carry = sum >> 1;
      }
    }

    shiftRight(){
      // (C, A, Q) æ•´ä½“å³ç§»
      for (let i = this.n - 1; i > 0; i--) this.Q[i] = this.Q[i - 1];
      this.Q[0] = this.A[this.n - 1];
      for (let i = this.n - 1; i > 0; i--) this.A[i] = this.A[i - 1];
      this.A[0] = this.C;
      this.C = 0;
    }
    shiftRightNoCarry(){
      // (A, Q) å³ç§»ï¼›A æœ€é«˜ä½è¡¥ 0
      for (let i = this.n - 1; i > 0; i--) this.Q[i] = this.Q[i - 1];
      this.Q[0] = this.A[this.n - 1];
      for (let i = this.n - 1; i > 0; i--) this.A[i] = this.A[i - 1];
      this.A[0] = 0;
    }
    arithmeticShiftRight(){
      // (A, Q, Q_-1) ç®—æœ¯å³ç§»ï¼›A[MSB] ä¿æŒ
      const aMsb = this.A[0];
      this.Q_minus1 = this.Q[this.n - 1];
      for (let i = this.n - 1; i > 0; i--) this.Q[i] = this.Q[i - 1];
      this.Q[0] = this.A[this.n - 1];
      for (let i = this.n - 1; i > 0; i--) this.A[i] = this.A[i - 1];
      this.A[0] = aMsb;
    }

    addStep(description, registers = {}){
      const snapshot = {};
      if (this.A) snapshot.A = this.A.join('');
      if (this.Q) snapshot.Q = this.Q.join('');
      if (this.M) snapshot.M = this.M.join('');
      if (typeof this.C !== 'undefined') snapshot.C = this.C;
      if (typeof this.counter !== 'undefined') snapshot.counter = this.counter;
      if (typeof this.sign !== 'undefined') snapshot.sign = this.sign;
      if (typeof this.Q_minus1 !== 'undefined') snapshot["Q_-1"] = this.Q_minus1;
      if (this.M_minus) snapshot["M_minus"] = this.M_minus.join('');
      this.steps.push({ description, registers: { ...snapshot, ...registers } });
    }
  }

  // æ§åˆ¶
  function stopAutoIfRunning(){
    if (autoInterval){
      clearInterval(autoInterval);
      autoInterval = null;
      autoBtn.innerHTML = '<i class="fas fa-play-circle"></i> è‡ªåŠ¨æ’­æ”¾';
      autoBtn.className = 'btn-warning';
    }
  }
  function goPrev(){
    if (multiplication && currentStep > 0){
      currentStep--;
      stopAutoIfRunning();
      updateDisplay();
    }
  }
  function goNext(){
    if (multiplication && currentStep < multiplication.steps.length - 1){
      currentStep++;
      stopAutoIfRunning();
      updateDisplay();
    }
  }

  // äº‹ä»¶
  initializeBtn.addEventListener('click', () => {
    const type = multiplicationTypeEl.value;
    const bitLength = bitLengthEl.value;
    const operand1 = operand1El.value;
    const operand2 = operand2El.value;
    multiplication = new BinaryMultiplication(type, bitLength, operand1, operand2);
    currentStep = 0;
    if (!multiplication.valid || !multiplication.steps.length){
      stepBtn.disabled = true; prevBtn.disabled = true; autoBtn.disabled = true;
    }else{
      stepBtn.disabled = false; prevBtn.disabled = true; autoBtn.disabled = false;
    }
    stopAutoIfRunning();
    updateDisplay();
  });
  prevBtn.addEventListener('click', goPrev);
  stepBtn.addEventListener('click', goNext);
  autoBtn.addEventListener('click', () => {
    if (autoInterval){ stopAutoIfRunning(); }
    else{
      autoBtn.innerHTML = '<i class="fas fa-pause-circle"></i> åœæ­¢';
      autoBtn.className = 'btn-danger';
      const speed = parseInt(animationSpeedEl.value);
      autoInterval = setInterval(() => {
        if (multiplication && currentStep < multiplication.steps.length - 1){
          currentStep++; updateDisplay();
        }else{ stopAutoIfRunning(); }
      }, speed);
    }
  });
  resetBtn.addEventListener('click', () => {
    stopAutoIfRunning();
    multiplication = null; currentStep = 0;
    stepBtn.disabled = true; prevBtn.disabled = true; autoBtn.disabled = true;
    explanationEl.innerHTML = "<p><i class='fas fa-info-circle'></i> ç‚¹å‡»â€œåˆå§‹åŒ–è®¡ç®—â€å¼€å§‹ã€‚ä½¿ç”¨â€œä¸‹ä¸€æ­¥/ä¸Šä¸€æ­¥â€é€æ­¥æŸ¥çœ‹ã€‚å³ä¾§åªæ˜¾ç¤ºå½“å‰ä¸€æ­¥çš„è¯´æ˜ã€‚</p>";
    registersEl.innerHTML = ""; stepsEl.innerHTML = ""; resultEl.textContent = ""; resultEl.className = 'result';
  });

  // è¾…åŠ©
  function combinedDecimal(A, Q){
    if (!multiplication) return 0;
    const full = (A || '') + (Q || '');
    if (!full) return 0;
    if (multiplication.type === 'booth') return multiplication.fromTwosComplement(full);
    if (multiplication.type === 'signMagnitude'){
      const val = parseInt(full, 2); return multiplication.sign ? -val : val;
    }
    return parseInt(full, 2);
  }
  function labelType(type){
    if (type === 'unsigned') return 'æ— ç¬¦å·ä¹˜æ³•';
    if (type === 'signMagnitude') return 'åŸç ä¹˜æ³•';
    if (type === 'booth') return 'Boothï¼ˆè¡¥ç ï¼‰ä¹˜æ³•';
    return type;
  }
  function formatStep(description, idx){
    const total = multiplication ? multiplication.steps.length : 0;
    return `<div class="step"><h4>æ­¥éª¤ ${idx + 1} / ${total}</h4><p>${description}</p></div>`;
  }
  function isShiftCompletion(desc){ return desc.includes("å³ç§»å®Œæˆ"); }
  function isAdditionResultStep(desc){ return desc.includes("åŠ æ³•ç»“æŸ"); }

  function insertedBitForShift(prevRegs){
    if (!multiplication || !prevRegs) return 0;
    if (multiplication.type === 'unsigned') return Number(prevRegs.C || 0);
    if (multiplication.type === 'signMagnitude') return 0;
    if (multiplication.type === 'booth') return Number((prevRegs.A || '0')[0] || 0); // A çš„æœ€é«˜ä½
    return 0;
  }
  function createBitEl(bit, extra=''){
    const el = document.createElement('div');
    el.className = `bit bit-${bit} ${extra}`.trim();
    el.textContent = bit;
    return el;
  }

  // æ¸²æŸ“
  function updateDisplay(){
    if (!multiplication || !multiplication.steps.length){
      explanationEl.innerHTML = `<p><i class="fas fa-info-circle"></i> ç‚¹å‡»â€œåˆå§‹åŒ–è®¡ç®—â€å¼€å§‹ã€‚åˆå§‹åŒ–åä¼šæ˜¾ç¤ºç¬¬ä¸€æ­¥ã€‚</p>`;
      registersEl.innerHTML = ""; stepsEl.innerHTML = ""; resultEl.textContent = ""; resultEl.className = 'result'; return;
    }

    const step = multiplication.steps[currentStep];
    const prevStep = currentStep > 0 ? multiplication.steps[currentStep - 1] : null;
    const rs = step.registers;
    const prev = prevStep ? prevStep.registers : null;

    explanationEl.innerHTML = `<p><i class="fas fa-info-circle"></i> ç®—æ³•ï¼š${labelType(multiplication.type)}ï½œä½å®½ï¼š${multiplication.n}ï½œè¿›åº¦ï¼šç¬¬ ${currentStep + 1} / ${multiplication.steps.length} æ­¥</p>`;
    stepsEl.innerHTML = formatStep(step.description, currentStep);

    registersEl.innerHTML = "";

    // ç»“æœå¯„å­˜å™¨ A+Qï¼ˆä¸¤æ®µèƒŒæ™¯ï¼Œä½å®½æ”¹å˜è‡ªåŠ¨å¯¹åº”ï¼‰
    if (rs.A && rs.Q){
      const group = document.createElement('div'); group.className = 'register-group wide';
      const title = document.createElement('div'); title.className = 'register-title'; title.innerHTML = '<i class="fas fa-tasks"></i> ç»“æœå¯„å­˜å™¨ (A + Q)';
      group.appendChild(title);

      const labels = document.createElement('div'); labels.className = 'register-labels'; labels.innerHTML = `<span>é«˜ä½ (A)</span><span>ä½ä½ (Q)</span>`;
      group.appendChild(labels);

      const row = document.createElement('div'); row.className = 'result-row';
      const resultBits = document.createElement('div'); resultBits.className = 'result-bits';

      // A åŠ
      const halfA = document.createElement('div'); halfA.className = 'half half-A';
      const aBits = rs.A.split('');
      aBits.forEach((b,i) => {
        const el = createBitEl(b);
        // åŠ æ³•ç»“æŸæ­¥éª¤ï¼šæŠŠå‘ç”Ÿå˜åŒ–çš„ A ä½åšæ·¡å…¥
        if (prev && prev.A && isAdditionResultStep(step.description) && prev.A[i] !== b){
          el.classList.add('bit-fade-in');
          requestAnimationFrame(() => el.classList.add('ready'));
        }
        halfA.appendChild(el);
      });

      // Q åŠ
      const halfQ = document.createElement('div'); halfQ.className = 'half half-Q';
      rs.Q.split('').forEach((b) => {
        const el = createBitEl(b);
        halfQ.appendChild(el);
      });

      resultBits.appendChild(halfA);
      resultBits.appendChild(halfQ);
      row.appendChild(resultBits);

      // ç§»ä½åŠ¨ç”»ï¼šæ•´ä½“å³ç§»ä¸€ä½ â†’ å·¦ä¾§è¡¥å…¥ â†’ æœ€å³ä½æ·¡å‡º
      if (prev && prev.A && prev.Q && isShiftCompletion(step.description)){
        const overlay = document.createElement('div'); overlay.className = 'shift-overlay';
        const ghostLine = document.createElement('div'); ghostLine.className = 'ghost-line';
        const prevFull = (prev.A + prev.Q).split('');
        prevFull.forEach((b, idx) => {
          const ghost = createBitEl(b, 'shift-ghost');
          if (idx === prevFull.length - 1) ghost.classList.add('shift-exit');
          ghostLine.appendChild(ghost);
        });
        overlay.appendChild(ghostLine);

        const insBit = insertedBitForShift(prev);
        const enter = createBitEl(insBit, 'shift-enter');
        overlay.appendChild(enter);

        row.appendChild(overlay);

        requestAnimationFrame(() => {
          overlay.querySelectorAll('.shift-ghost').forEach(el => el.classList.add('move'));
        });

        const speed = parseInt(animationSpeedEl.value);
        const totalMs = Math.max(300, Math.min(800, speed + 100));
        setTimeout(() => { if (overlay.parentNode) overlay.parentNode.removeChild(overlay); }, totalMs);
      }

      const val = document.createElement('div'); val.className = 'register-value';
      val.textContent = `åè¿›åˆ¶: ${combinedDecimal(rs.A, rs.Q)}`;

      group.appendChild(row);
      group.appendChild(val);
      registersEl.appendChild(group);
    }

    // å…¶ä»–å¯„å­˜å™¨ï¼›åˆå¹¶ counter ä¸ Q_-1
    let counterVal = null, qMinus1Val = null;
    for (const [name, value] of Object.entries(rs)){
      if (name === 'A' || name === 'Q') continue;
      if (name === 'counter'){ counterVal = value; continue; }
      if (name === 'Q_-1'){ qMinus1Val = value; continue; }

      const group = document.createElement('div'); group.className = 'register-group';
      const title = document.createElement('div'); title.className = 'register-title';
      let icon = 'fas fa-memory';
      if (name === 'M') icon = 'fas fa-xmark';
      if (name === 'C') icon = 'fas fa-arrow-up';
      if (name === 'sign') icon = 'fas fa-adjust';
      if (name === 'M_minus') icon = 'fas fa-minus';
      title.innerHTML = `<i class="${icon}"></i> ${name} å¯„å­˜å™¨`;
      group.appendChild(title);

      const box = document.createElement('div'); box.className = 'bits-container';
      if (typeof value === 'number' || (typeof value === 'string' && value.length === 1 && name !== 'M' && name !== 'M_minus')){
        const chip = document.createElement('div'); chip.className = 'chip small'; chip.textContent = value.toString();
        box.appendChild(chip);
      }else{
        const bits = value.toString().split('');
        const prevStr = prev && prev[name] ? prev[name].toString() : null;
        bits.forEach((b,i) => {
          const el = createBitEl(b);
          // A å¯„å­˜å™¨ï¼šåŠ æ³•ç»“æŸæ­¥éª¤å¯¹å˜åŠ¨ä½æ·¡å…¥
          if (name === 'A' && prevStr && isAdditionResultStep(step.description) && prevStr[i] !== b){
            el.classList.add('bit-fade-in');
            requestAnimationFrame(() => el.classList.add('ready'));
          }
          box.appendChild(el);
        });
      }
      group.appendChild(box);
      registersEl.appendChild(group);
    }

    // åˆå¹¶æ˜¾ç¤º counter ä¸ Q_-1
    if (counterVal !== null || qMinus1Val !== null){
      const group = document.createElement('div'); group.className = 'register-group';
      const title = document.createElement('div'); title.className = 'register-title';
      title.innerHTML = `<i class="fas fa-sliders-h"></i> æ§åˆ¶ä½ï¼ˆåˆå¹¶ï¼‰`;
      group.appendChild(title);

      const chips = document.createElement('div'); chips.className = 'inline-chips';
      if (qMinus1Val !== null){
        const c1 = document.createElement('div'); c1.className = 'chip small'; c1.textContent = `Q_-1 = ${qMinus1Val}`;
        chips.appendChild(c1);
      }
      if (counterVal !== null){
        const c2 = document.createElement('div'); c2.className = 'chip small'; c2.textContent = `counter = ${counterVal}`;
        chips.appendChild(c2);
      }
      group.appendChild(chips);
      registersEl.appendChild(group);
    }

    // åº•éƒ¨ä¾¿æ·æ§åˆ¶
    const ctrl = document.createElement('div'); ctrl.className = 'register-group';
    const ctrlTitle = document.createElement('div'); ctrlTitle.className = 'register-title'; ctrlTitle.innerHTML = `<i class="fas fa-gamepad"></i> å¿«æ·æ§åˆ¶`;
    ctrl.appendChild(ctrlTitle);
    const compact = document.createElement('div'); compact.className = 'btn-group-compact';
    const bPrev = document.createElement('button'); bPrev.className = 'btn-light'; bPrev.innerHTML = '<i class="fas fa-step-backward"></i> ä¸Šä¸€æ­¥'; bPrev.disabled = currentStep === 0; bPrev.addEventListener('click', goPrev);
    const bNext = document.createElement('button'); bNext.className = 'btn-success'; bNext.innerHTML = '<i class="fas fa-step-forward"></i> ä¸‹ä¸€æ­¥'; bNext.disabled = currentStep >= multiplication.steps.length - 1; bNext.addEventListener('click', goNext);
    compact.appendChild(bPrev); compact.appendChild(bNext); ctrl.appendChild(compact); registersEl.appendChild(ctrl);

    // ç»“æœ
    if (currentStep === multiplication.steps.length - 1){
      const last = rs;
      if (last && last.A && last.Q){
        const dec = combinedDecimal(last.A, last.Q);
        const expected = multiplication.operand1 * multiplication.operand2;
        resultEl.textContent = `æœ€ç»ˆä¹˜ç§¯ï¼šäºŒè¿›åˆ¶ ${last.A + last.Q}ï¼Œåè¿›åˆ¶ ${dec}`;
        resultEl.className = dec === expected ? 'result' : 'result result-error';
        if (dec !== expected) resultEl.textContent += `ï¼ˆæœŸæœ›: ${expected}ï¼‰`;
      }
    }else{
      resultEl.textContent = ""; resultEl.className = 'result';
    }

    // é¡¶éƒ¨æŒ‰é’®çŠ¶æ€
    prevBtn.disabled = currentStep === 0;
    stepBtn.disabled = currentStep >= multiplication.steps.length - 1;
    autoBtn.disabled = multiplication.steps.length <= 1 || currentStep >= multiplication.steps.length - 1;
  }
</script>
</body>
</html>
<div class="admonition info">
<p class="admonition-title">ğŸ“ å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡</p>
<p>Yan Li. (Sep. 25, 2025). <i class="fas fa-calculator"></i> äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…· [Blog post]. Retrieved from <a href="https://dicaeopolis.github.io/campus-sources/binmul">https://dicaeopolis.github.io/campus-sources/binmul</a></p>
<p>åœ¨ BibTeX æ ¼å¼ä¸­ï¼š
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>@online{binmul,
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>    title={&lt;i class="fas fa-calculator"&gt;&lt;/i&gt; äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…·},
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    author={Yan Li},
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>    year={2025},
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>    month={Sep},
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    url={\url{https://dicaeopolis.github.io/campus-sources/binmul}},
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>}
</code></pre></div></td></tr></table></div></p>
</div>
<form class="md-feedback" hidden="" name="feedback">
<fieldset>
<legend class="md-feedback__title">
        Was this page helpful?
      </legend>
<div class="md-feedback__inner">
<div class="md-feedback__list">
<button class="md-feedback__icon md-icon" data-md-value="1" title="This page was helpful" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"></path></svg>
</button>
<button class="md-feedback__icon md-icon" data-md-value="0" title="This page could be improved" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"></path></svg>
</button>
</div>
<div class="md-feedback__note">
<div data-md-value="1" hidden="">
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
<div data-md-value="0" hidden="">
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="..." rel="noopener" target="_blank">feedback form</a>.
            </div>
</div>
</div>
</fieldset>
</form>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.code.copy", "content.code.select", "navigation.titles", "navigation.tabs", "navigation.indexes"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
<script src="../../assets/js/custom.js"></script>
<script src="../../themes/js/custom.js"></script>
<script src="../../themes/js/simpleLightbox.min.js"></script>
<script src="../../themes/js/optionalConfig.js"></script>
<script src="../../themes/js/mermaidloader.js"></script>
<script src="../../themes/js/umlconvert.js"></script>
<script src="../../themes/js/mathjax.js"></script>
<script src="../../themes/js/katex.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.17.1/flowchart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.6/underscore-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mermaid-js/mermaid-mindmap@9.3.0/dist/diagram-definition.0faef4c2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-plantuml@1.4.1/index.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-chtml.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-chtml-full.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-svg-full.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
</body>
</html>