
<!DOCTYPE html>

<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="../" rel="prev"/>
<link href="../S-and-D-models-replication/" rel="next"/>
<link href="../../../favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/>
<title>æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ— - Dicaeopolis' Wiki</title>
<link href="../../../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../themes/css/custom.css" rel="stylesheet"/>
<link href="../../../themes/css/simpleLightbox.min.css" rel="stylesheet"/>
<link href="../../../themes/css/pied_piper.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet"/>
<link href="../../../stylesheets/customize.css" rel="stylesheet"/>
<link href="../../../assets/css/custom.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#_1">
          è·³è½¬è‡³
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="é¡µçœ‰" class="md-header__inner md-grid">
<a aria-label="Dicaeopolis' Wiki" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Dicaeopolis' Wiki">
<img alt="logo" src="../../../favicon.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Dicaeopolis' Wiki
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ—
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="æœç´¢" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="æœç´¢" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="æŸ¥æ‰¾" class="md-search__options">
<button aria-label="æ¸…ç©ºå½“å‰å†…å®¹" class="md-search__icon md-icon" tabindex="-1" title="æ¸…ç©ºå½“å‰å†…å®¹" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            æ­£åœ¨åˆå§‹åŒ–æœç´¢å¼•æ“
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="æ ‡ç­¾" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../astronomy/">
          
  
  
    
  
  å¤©æ–‡æ‘„å½±ç†è®ºå’Œå®è·µ

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../campus-sources/">
          
  
  
    
  
  æ ¡å†…è¯¾ç¨‹çŸ¥è¯†

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../">
          
  
  
    
  
  æ·±åº¦ç¥ç»ç½‘ç»œ

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../misc/">
          
  
  
    
  
  é…ç½®å’Œæ‚è°ˆç¬”è®°

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../algorithm/">
          
  
  
    
  
  ä¼ ç»Ÿç®—æ³•ä¸æ€§èƒ½

        </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="å¯¼èˆªæ " class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Dicaeopolis' Wiki" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Dicaeopolis' Wiki">
<img alt="logo" src="../../../favicon.png"/>
</a>
    Dicaeopolis' Wiki
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_1" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../astronomy/">
<span class="md-ellipsis">
    
  
    å¤©æ–‡æ‘„å½±ç†è®ºå’Œå®è·µ
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_1_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_1">
<span class="md-nav__icon md-icon"></span>
            
  
    å¤©æ–‡æ‘„å½±ç†è®ºå’Œå®è·µ
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../astronomy/gallery/">
<span class="md-ellipsis">
    
  
    æ·±ç©ºå½±é›†
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../astronomy/polar/">
<span class="md-ellipsis">
    
  
    çœ‹ä¸è§åŒ—ææ˜Ÿæ€ä¹ˆåŠ
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../astronomy/%E6%96%B9%E4%BD%8D%E8%B0%83%E8%8A%82/">
<span class="md-ellipsis">
    
  
    æ–¹ä½è°ƒèŠ‚
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../astronomy/%E7%BA%AC%E5%BA%A6%E8%B0%83%E8%8A%82/">
<span class="md-ellipsis">
    
  
    çº¬åº¦è°ƒèŠ‚
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../campus-sources/">
<span class="md-ellipsis">
    
  
    æ ¡å†…è¯¾ç¨‹çŸ¥è¯†
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    æ ¡å†…è¯¾ç¨‹çŸ¥è¯†
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/SDC-exams/">
<span class="md-ellipsis">
    
  
    ã€Šè®¡ç®—æœºç»„æˆä¸è®¾è®¡ã€‹éƒ¨åˆ†å†å¹´é¢˜ç›®é¢˜è§£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/Discrete_exams/">
<span class="md-ellipsis">
    
  
    ã€Šç¦»æ•£æ•°å­¦ã€‹éƒ¨åˆ†æœŸæœ«é¢˜ç›®é¢˜è§£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/Discrete_notes/">
<span class="md-ellipsis">
    
  
    ç¦»æ•£æœŸæœ«å¤ä¹ æçº²
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/Descrete_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šç¦»æ•£æ•°å­¦ã€‹è¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/Prob_Stats_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹è¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/SDC_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šè®¡ç®—æœºç»„æˆåŸç†ã€‹ç†è®ºè¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/PU_Bii_assignments/">
<span class="md-ellipsis">
    
  
    ã€Šå¤§å­¦ç‰©ç†Bä¸‹ã€‹è¯¾ç¨‹ä½œä¸šä¸ç¬”è®°å½’æ¡£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/binmul/">
<span class="md-ellipsis">
<i class="fas fa-calculator"></i> äºŒè¿›åˆ¶ä¹˜æ³•å¯è§†åŒ–å·¥å…·
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/textbook/">
<span class="md-ellipsis">
    
  
    æœ¬ç§‘æ•™ç§‘ä¹¦ç”µå­èµ„æº
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/ds-keynote/">
<span class="md-ellipsis">
    
  
    ã€Šæ•°æ®ç»“æ„ã€‹åˆ’é‡ç‚¹ç¬”è®°
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/ds-write-up/">
<span class="md-ellipsis">
    
  
    ã€Šæ•°æ®ç»“æ„ã€‹æœŸæœ«å¤ä¹ é¢˜é¢˜è§£
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../campus-sources/autosignin/">
<span class="md-ellipsis">
    
  
    è‡ªåŠ¨ç­¾åˆ°è„šæœ¬
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../">
<span class="md-ellipsis">
    
  
    æ·±åº¦ç¥ç»ç½‘ç»œ
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    æ·±åº¦ç¥ç»ç½‘ç»œ
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../match/">
<span class="md-ellipsis">
    
  
    å¦‚ä½•åšå››å…­çº§è€ƒè¯•çš„æ®µè½åŒ¹é…é¢˜
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../BP/">
<span class="md-ellipsis">
    
  
    å‰é¦ˆç¥ç»ç½‘ç»œçš„åå‘ä¼ æ’­
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../RL/">
<span class="md-ellipsis">
    
  
    RLå­¦ä¹ ç¬”è®° - ä¸Šç¯‡
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../SVM_SMO/">
<span class="md-ellipsis">
    
  
    SMO ç®—æ³•çš„æ¨å¯¼
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Wp
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_6_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_6">
<span class="md-nav__icon md-icon"></span>
            
  
    Wp
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../WP/aiwp/">
<span class="md-ellipsis">
    
  
    MISC-AI æ–¹å‘ WriteUp
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_7" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../model-attack/">
<span class="md-ellipsis">
    
  
    æ·±åº¦å­¦ä¹ æ¨¡å‹æ”»å‡»ç†è®ºä¸å¤ç°å½’æ¡£
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_7_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_7">
<span class="md-nav__icon md-icon"></span>
            
  
    æ·±åº¦å­¦ä¹ æ¨¡å‹æ”»å‡»ç†è®ºä¸å¤ç°å½’æ¡£
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../model-attack/hsja/">
<span class="md-ellipsis">
    
  
    HSJA æ”»å‡»
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model-attack/BadNets/">
<span class="md-ellipsis">
    
  
    BadNets
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model-attack/CandW/">
<span class="md-ellipsis">
    
  
    C&amp;W æ”»å‡»
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model-attack/pgd/">
<span class="md-ellipsis">
    
  
    PGD æ”»å‡»
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../model-attack/fgsm/">
<span class="md-ellipsis">
    
  
    FGSM æ”»å‡»
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3_8" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../">
<span class="md-ellipsis">
    
  
    æ·±åº¦å­¦ä¹ ç›¸å…³æ¨¡å‹ç†è®ºä¸å¤ç°å½’æ¡£
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_3_8_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_8">
<span class="md-nav__icon md-icon"></span>
            
  
    æ·±åº¦å­¦ä¹ ç›¸å…³æ¨¡å‹ç†è®ºä¸å¤ç°å½’æ¡£
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ—
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    
  
    æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ—
  

    
  </span>
</a>
<nav aria-label="ç›®å½•" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#train-vaes-revenge">
<span class="md-ellipsis">
      
        Train: VAE's revenge
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#from-the-perspective-of-sde">
<span class="md-ellipsis">
      
        From the perspective of SDE
      
    </span>
</a>
<nav aria-label="From the perspective of SDE" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ddpm">
<span class="md-ellipsis">
      
        ä» DDPM åˆ°å¾—åˆ†åŒ¹é…
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      
        å…³è”ä¸Šéšæœºå¾®åˆ†æ–¹ç¨‹
      
    </span>
</a>
<nav aria-label="å…³è”ä¸Šéšæœºå¾®åˆ†æ–¹ç¨‹" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      
        å‰å‘è¿‡ç¨‹
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      
        å˜é‡æ›¿æ¢
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      
        åå‘è¿‡ç¨‹
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sde-ode">
<span class="md-ellipsis">
      
        å°† SDE å˜æˆ ODE
      
    </span>
</a>
<nav aria-label="å°† SDE å˜æˆ ODE" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#fokker-planck">
<span class="md-ellipsis">
      
        å‰å‘è¿‡ç¨‹çš„ Fokker-Planck æ–¹ç¨‹
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      
        æ—¶é—´åæ¼”
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inference-samplers">
<span class="md-ellipsis">
      
        Inference: Samplers
      
    </span>
</a>
<nav aria-label="Inference: Samplers" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ddpm_1">
<span class="md-ellipsis">
      
        DDPM
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#euler-ddim-dpm-solver">
<span class="md-ellipsis">
      
        Euler, DDIM, DPM Solver
      
    </span>
</a>
<nav aria-label="Euler, DDIM, DPM Solver" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#euler">
<span class="md-ellipsis">
      
        ç®€å• Euler æ³•
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ddim">
<span class="md-ellipsis">
      
        DDIM
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dpm-solvers">
<span class="md-ellipsis">
      
        DPM Solvers
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#appendices">
<span class="md-ellipsis">
      
        Appendices
      
    </span>
</a>
<nav aria-label="Appendices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#i">
<span class="md-ellipsis">
      
        I. å¸ƒæœ—è¿åŠ¨çš„äºŒæ¬¡å˜åˆ†
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../S-and-D-models-replication/">
<span class="md-ellipsis">
    
  
    å›¾åƒè¯­ä¹‰åˆ†å‰²å’Œç›®æ ‡æ£€æµ‹ç›¸å…³æ¨¡å‹å¤ç°æ‰‹è®°
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../Image-models-replication/">
<span class="md-ellipsis">
    
  
    å›¾åƒåˆ†ç±»ç›¸å…³æ¨¡å‹å¤ç°æ‰‹è®°
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../DC-GAN-%E8%80%81%E5%A9%86%E7%94%9F%E6%88%90%E5%99%A8/">
<span class="md-ellipsis">
    
  
    DC-GAN è€å©†ç”Ÿæˆå™¨
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_9" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../optimizer/">
<span class="md-ellipsis">
    
  
    ä¼˜åŒ–å™¨
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_9_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_9">
<span class="md-nav__icon md-icon"></span>
            
  
    ä¼˜åŒ–å™¨
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../optimizer/misc/">
<span class="md-ellipsis">
    
  
    åç»­çš„å†™ä½œè®¡åˆ’
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../optimizer/SignGD/">
<span class="md-ellipsis">
    
  
    ç¬¦å·æ¢¯åº¦ä¸‹é™
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../optimizer/Adaptive/">
<span class="md-ellipsis">
    
  
    è‡ªé€‚åº”å­¦ä¹ ç‡æ”¹è¿›ç­–ç•¥
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../optimizer/SGD/">
<span class="md-ellipsis">
    
  
    SGD ç³»åˆ—ç®—æ³•
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../misc/">
<span class="md-ellipsis">
    
  
    é…ç½®å’Œæ‚è°ˆç¬”è®°
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            
  
    é…ç½®å’Œæ‚è°ˆç¬”è®°
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../misc/test/">
<span class="md-ellipsis">
    
  
    åŠŸèƒ½æµ‹è¯•é¡µé¢
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../../algorithm/">
<span class="md-ellipsis">
    
  
    ä¼ ç»Ÿç®—æ³•ä¸æ€§èƒ½
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            
  
    ä¼ ç»Ÿç®—æ³•ä¸æ€§èƒ½
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithm/benchmark-on-stl/">
<span class="md-ellipsis">
    
  
    STLçš„ä¸€äº›æ€§èƒ½æµ‹è¯•
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithm/stl-wheels/">
<span class="md-ellipsis">
    
  
    å—¯é€ è½®å­
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../algorithm/template-on-numeric-ring/">
<span class="md-ellipsis">
    
  
    æ•´æ•°ç¯å–æ¨¡æ¨¡æ¿
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="ç›®å½•" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      ç›®å½•
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#train-vaes-revenge">
<span class="md-ellipsis">
      
        Train: VAE's revenge
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#from-the-perspective-of-sde">
<span class="md-ellipsis">
      
        From the perspective of SDE
      
    </span>
</a>
<nav aria-label="From the perspective of SDE" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ddpm">
<span class="md-ellipsis">
      
        ä» DDPM åˆ°å¾—åˆ†åŒ¹é…
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_2">
<span class="md-ellipsis">
      
        å…³è”ä¸Šéšæœºå¾®åˆ†æ–¹ç¨‹
      
    </span>
</a>
<nav aria-label="å…³è”ä¸Šéšæœºå¾®åˆ†æ–¹ç¨‹" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#_3">
<span class="md-ellipsis">
      
        å‰å‘è¿‡ç¨‹
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_4">
<span class="md-ellipsis">
      
        å˜é‡æ›¿æ¢
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_5">
<span class="md-ellipsis">
      
        åå‘è¿‡ç¨‹
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sde-ode">
<span class="md-ellipsis">
      
        å°† SDE å˜æˆ ODE
      
    </span>
</a>
<nav aria-label="å°† SDE å˜æˆ ODE" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#fokker-planck">
<span class="md-ellipsis">
      
        å‰å‘è¿‡ç¨‹çš„ Fokker-Planck æ–¹ç¨‹
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#_6">
<span class="md-ellipsis">
      
        æ—¶é—´åæ¼”
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#inference-samplers">
<span class="md-ellipsis">
      
        Inference: Samplers
      
    </span>
</a>
<nav aria-label="Inference: Samplers" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#ddpm_1">
<span class="md-ellipsis">
      
        DDPM
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#euler-ddim-dpm-solver">
<span class="md-ellipsis">
      
        Euler, DDIM, DPM Solver
      
    </span>
</a>
<nav aria-label="Euler, DDIM, DPM Solver" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#euler">
<span class="md-ellipsis">
      
        ç®€å• Euler æ³•
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#ddim">
<span class="md-ellipsis">
      
        DDIM
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#dpm-solvers">
<span class="md-ellipsis">
      
        DPM Solvers
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#appendices">
<span class="md-ellipsis">
      
        Appendices
      
    </span>
</a>
<nav aria-label="Appendices" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#i">
<span class="md-ellipsis">
      
        I. å¸ƒæœ—è¿åŠ¨çš„äºŒæ¬¡å˜åˆ†
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="_1">æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ—<a class="headerlink" href="#_1" title="Permanent link">Â¶</a></h1>
<div class="admonition info">
<p class="admonition-title">ğŸ“– é˜…è¯»ä¿¡æ¯</p>
<p>é˜…è¯»æ—¶é—´çº¦ <strong>45</strong> åˆ†é’Ÿã€€|ã€€çº¦ <strong>4041</strong> å­—ã€€|ã€€çº¦ <strong>259</strong> ä¸ªå…¬å¼ã€€|ã€€æ²¡æœ‰ä»£ç ï¼Œè¯·æ”¾å¿ƒé£Ÿç”¨</p>
</div>
<p>è§‚å‰æç¤ºï¼šæœ¬æ–‡ <span class="arithmatex">\(\alpha\)</span> çš„å®šä¹‰å’ŒåŸè®ºæ–‡å·®äº†ä¸€ä¸ªå¹³æ–¹çš„é˜¶ï¼Œä»¥åŠ <span class="arithmatex">\(q\)</span> å’Œ <span class="arithmatex">\(p\)</span> çš„å®šä¹‰å’ŒåŸè®ºæ–‡ç›¸åã€‚</p>
<h2 id="train-vaes-revenge">Train: VAE's revenge<a class="headerlink" href="#train-vaes-revenge" title="Permanent link">Â¶</a></h2>
<p>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ VAE çš„å»ºæ¨¡è¿‡ç¨‹ï¼š</p>
<p>ä¸ºäº†æ‹Ÿåˆç›®æ ‡åˆ†å¸ƒ <span class="arithmatex">\(p(x)\)</span>ï¼Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªéšå˜é‡ <span class="arithmatex">\(z\)</span>ï¼Œè¿™æ ·å¯¹å…¶çš„å»ºæ¨¡å°±å˜æˆäº† <span class="arithmatex">\(p(x,z)=p(x|z)p(z)\)</span>ï¼Œè€Œåè¿‡æ¥ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å¯¹åŸå˜é‡ç¼–ç è¿›éšå˜é‡ä¸­ï¼Œä¹Ÿå°±æ˜¯å»ºæ¨¡ <span class="arithmatex">\(q(x,z)=q(z|x)q(x)\)</span>ã€‚ç„¶åæˆ‘ä»¬æ±‚è¿™ä¸¤ä¸ªè”åˆåˆ†å¸ƒçš„ KL æ•£åº¦ï¼Œä¹Ÿå°±æ˜¯ <span class="arithmatex">\(KL(q(x,z)||p(x,z))\)</span> æ¥è¡¡é‡æ‹Ÿåˆåˆ†å¸ƒå’ŒåŸåˆ†å¸ƒçš„ç›¸ä¼¼æ€§ã€‚ç„¶åæˆ‘ä»¬å¼•å…¥å¼ºå…ˆéªŒçš„æ­£æ€æ€§å‡è®¾ï¼ŒæŠŠè¿™ä¸ª KL æ•£åº¦æ‹†å‡ºå¸¸æ•°å¾—åˆ° <span class="arithmatex">\(ELBO\)</span>ï¼Œå†æ‹†æˆ MSE å’Œ KLD ä¸¤é¡¹ã€‚</p>
<p>åœ¨å¯¹ VAE çš„è®¨è®ºä¸­ï¼Œæˆ‘ä»¬ä¹Ÿè¯¦ç»†ä»‹ç»äº†ç”±äºå…¶å¼ºåˆ¶å¼•å…¥çš„æ­£æ€æ€§å‡è®¾ï¼Œå¯¼è‡´å‹ç¼©ç‡è¿‡é«˜ï¼Œç”Ÿæˆçš„å›¾åƒå¾ˆç³Šã€‚</p>
<p>è¿™å°±å¼•å…¥äº†æˆ‘ä»¬ä»‹ç» DDPM çš„åŠ¨æœºâ€”â€”ä»çº¯å™ªå£°çš„ <span class="arithmatex">\(p(z)\)</span> ä¸€æ­¥è¿ˆåˆ°å¤šæ ·çš„çœŸå®åˆ†å¸ƒ <span class="arithmatex">\(p(x)\)</span>ï¼Œè¿™ä¸€æ­¥å¤šå°‘è¿ˆå¾—æœ‰ç‚¹å¤§äº†ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬ä½¿ç”¨ä» <span class="arithmatex">\(x_0, x_1, \cdots, x_T\)</span> çš„å¤šæ­¥è§£ç æ¥ä»£æ›¿ VAE çš„å•æ­¥è§£ç å‘¢ï¼Ÿ</p>
<p>ä¹Ÿå°±æ˜¯ï¼Œå¼•å…¥è”åˆåˆ†å¸ƒï¼š<span class="arithmatex">\(p(x_0, x_1, \cdots, x_T) = p(x_T | x_{T-1}) p(x_{T-1} | x_{T-2}) \cdots p(x_1 | x_0) p(x_0)\)</span> ä¸ºæˆ‘ä»¬çš„â€œç¼–ç å™¨â€ï¼Œè´Ÿè´£å°† <span class="arithmatex">\(x_0\)</span> é€æ­¥æ˜ å°„åˆ°çº¯å™ªå£°åˆ†å¸ƒ <span class="arithmatex">\(x_T\sim\mathcal N(0,I)\)</span>ï¼Œç„¶ååè¿‡æ¥æ˜¯â€œè§£ç å™¨â€ <span class="arithmatex">\(q(x_0, \cdots, x_T) = q(x_0 | x_1) q(x_1 | x_2) \cdots q(x_{T-1} | x_T) q(x_T)\)</span> è´Ÿè´£å°†å™ªå£°é€æ­¥è¿˜åŸåˆ°åŸå›¾åƒã€‚</p>
<p>ä¸‹é¢ï¼Œè®©æˆ‘ä»¬å¼€å§‹è¿›è¡Œå˜åˆ†æ¨æ–­å§ã€‚é¦–å…ˆæ˜¯ KL æ•£åº¦ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    KL(p \Vert q) &amp;= \int p \log \frac{p}{q} \mathrm dx_T \cdots \mathrm dx_0\\&amp;= \int p(x_T | x_{T-1}) \cdots p(x_1 | x_0) p(x_0) \log \frac{p(x_T | x_{T-1}) \cdots p(x_1 | x_0) p(x_0)}{q(x_0 | x_1) \cdots q(x_{T-1} | x_T) q(x_T)} \mathrm dx_T \cdots \mathrm dx_0
\end{align*}
\]</div>
<p>ç°åœ¨æˆ‘ä»¬ä»ç„¶éœ€è¦å¯¹â€œç¼–ç è¿‡ç¨‹â€ <span class="arithmatex">\(p\)</span> å¼•å…¥å½’çº³åç½®ã€‚ç”±äºæˆ‘ä»¬æ˜¯å°†å›¾åƒè½¬åŒ–ä¸ºçº¯å™ªå£°ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸€æ­¥ <span class="arithmatex">\(p\)</span> çœ‹ä½œæ˜¯ä¸€ä¸ª<strong>é€æ­¥åŠ å™ª</strong>çš„è¿‡ç¨‹ï¼š</p>
<div class="arithmatex">\[
x_i=\alpha_i x_{i-1}+\beta_i\varepsilon_i,\quad \varepsilon_i\sim\mathcal{N}(0,I)
\]</div>
<p>è¿™é‡Œçš„ <span class="arithmatex">\(\alpha_i\)</span> å’Œ <span class="arithmatex">\(\beta_i\)</span> æ˜¯äº‹å‰ç»™å®šçš„å‚æ•°ï¼ˆå…¶å® <span class="arithmatex">\(\dfrac{\alpha_i}{\beta_i}\)</span> å¯ä»¥ç†è§£æˆä¿¡å™ªæ¯”ï¼‰ï¼Œéœ€è¦æ»¡è¶³ <span class="arithmatex">\(\alpha_i^2+\beta_i^2=1\)</span>ã€‚ä¸ºä»€ä¹ˆè¦æ»¡è¶³è¿™ä¸ªæ¡ä»¶å‘¢ï¼Ÿè®©æˆ‘ä»¬è€ƒè™‘æŠŠ <span class="arithmatex">\(x_i\)</span> ä¸€ç›´å±•å¼€åˆ° <span class="arithmatex">\(x_0\)</span>ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    x_i&amp;=\alpha_i x_{i-1}+\beta_i\varepsilon_i\\
    &amp;=\alpha_i (\alpha_{i-1} x_{i-2}+\beta_{i-1}\varepsilon_{i-1})+\beta_i\varepsilon_i\\
    &amp;=(\alpha_i\alpha_{i-1}\cdots\alpha_1)x_0+\beta_i\varepsilon_i+\alpha_i\beta_{i-1}\varepsilon_{i-1}+\cdots+(\alpha_i\alpha_{i-1}\cdots\alpha_2)\beta_1\varepsilon_1
\end{align*}
\]</div>
<p>ç”±äºè¯¸ <span class="arithmatex">\(\varepsilon\)</span> æ˜¯ç‹¬ç«‹çš„æ­£æ€åˆ†å¸ƒï¼Œå¯ä»¥å åŠ ï¼š</p>
<div class="arithmatex">\[
\beta_i\varepsilon_i+\alpha_i\beta_{i-1}\varepsilon_{i-1}+\cdots+(\alpha_i\alpha_{i-1}\cdots\alpha_2)\beta_1\varepsilon_1=\hat\beta_i\hat\varepsilon_i,\quad\hat\varepsilon_i\sim\mathcal{N}(0,I)
\]</div>
<p>å¦‚æœæˆ‘ä»¬å– <span class="arithmatex">\(\hat\alpha_i^2=(\alpha_i\alpha_{i-1}\cdots\alpha_1)^2\)</span>ï¼Œä¸”ç”±æ­£æ€åˆ†å¸ƒæ–¹å·®çš„å åŠ å¾—åˆ° <span class="arithmatex">\(\hat\beta_i^2=\beta_i^2+\alpha_i^2\beta_{i-1}^2+\cdots+(\alpha_i\alpha_{i-1}\cdots\alpha_2)^2\beta_1^2\)</span>ï¼Œç„¶åæŠŠå®ƒä»¬åŠ èµ·æ¥ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    \hat\alpha_i^2+\hat\beta_i^2&amp;=\beta_i^2+\alpha_i^2\beta_{i-1}^2+\cdots+(\alpha_i\alpha_{i-1}\cdots\alpha_2)^2\beta_1^2+(\alpha_i\alpha_{i-1}\cdots\alpha_1)^2\hat\beta_i^2\\
    &amp;=\beta_i^2+\alpha_i^2\beta_{i-1}^2+\cdots+(\alpha_i\alpha_{i-1}\cdots\alpha_2)^2(\beta_1^2+\alpha_1^2)
\end{align*}
\]</div>
<p>è¿™æ ·æˆ‘ä»¬å°±å‘ç°ï¼Œå¦‚æœæ»¡è¶³ <span class="arithmatex">\(\alpha_i^2+\beta_i^2=1\)</span>ï¼Œé‚£ä¹ˆå°±æœ‰ç‚¹åƒé«˜ä¸­å­¦è¿‡çš„è£‚é¡¹ç›¸æ¶ˆâ€œç‚¹é­ç‚®â€ï¼Œä»åé¢ä¸€ç›´ç®—åˆ°å‰é¢ï¼Œæœ€ç»ˆæ¨å‡º <span class="arithmatex">\(\hat\alpha_i^2+\hat\beta_i^2=1\)</span>ã€‚</p>
<p>è¿™æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿåˆšåˆšçš„æ¨å¯¼ä¸­ï¼Œæˆ‘ä»¬å…¶å®å¾—åˆ°äº†ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„å¼å­ï¼š</p>
<div class="arithmatex">\[
x_i=\hat\alpha_i x_0+\hat\beta_i\hat\varepsilon_i,\quad\hat\varepsilon_i\sim\mathcal{N}(0,I),\ \hat\alpha_i^2+\hat\beta_i^2=1
\]</div>
<p>è¿™å°±æ„å‘³ç€ï¼Œä¸ºäº†è·å–åŠ å™ªçš„ä¸­é—´ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ä¸€æ­¥ä» <span class="arithmatex">\(x_0\)</span> è·å¾—ã€‚</p>
<p>è€Œä¸”è¿™ä¸ªå¼å­æœ‰éå¸¸å¼ºçš„å‡ ä½•æ„ä¹‰ï¼š</p>
<p><img alt="alt text" src="../image-38.png"/></p>
<p>è¿™ä¸ªå›¾å¯¹æˆ‘ä»¬ç†è§£ DDPM ä»¥åŠåé¢çš„å¾ˆå¤šæ¨¡å‹éƒ½æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚è™½ç„¶è¿™ä¸ªå›¾ä¸æ˜¯ç‰¹åˆ«ä¸¥è°¨ï¼ŒæŠŠå™ªå£°çš„æ–¹å·®å¹²æ‰äº†ã€‚</p>
<p>è‡³äºä¸ºä»€ä¹ˆéè¦æ‹‰ä¸€ä¸ªåœ†ï¼ˆè¶…çƒé¢ï¼‰è€Œä¸æ˜¯ç›´çº¿æˆ–è€…å…¶ä»–ä¸œè¥¿ï¼Ÿå½“ç„¶å¯ä»¥ï¼å¦‚æœæ‹‰ç›´çº¿ï¼Œæ­å–œä½ å‘æ˜äº† Flow Matching é‡Œé¢çš„ Rectified Flowâ€¦â€¦å¹¶ä¸”æœ€åä½“ç°è¿‡æ¥å°±æ˜¯æŠŠæŸå¤±å‡½æ•°é‡Œé¢çš„ <span class="arithmatex">\(\alpha\)</span> å’Œ <span class="arithmatex">\(\beta\)</span> è¿™äº›åšä¸ªæ›¿æ¢ï¼Œç›¸å½“äºï¼ˆæŸç§æ„ä¹‰ä¸Šï¼‰çº¿æ€§åŒ–äº† Noise Scheduleã€‚ï¼ˆæˆ–è€…è¯´æ”¹å˜äº†æ¯ä¸€ä¸ªéƒ¨åˆ†çš„ SNRï¼‰æ‰€ä»¥æˆ‘å…¶å®å¾ˆè®¨åŒè¿™ç§éè¦æŠŠä¸œè¥¿æ‰¯ä¸Šç‰©ç†å­¦å¼„å‡ºå¾ˆ fancy çš„ç†è®ºï¼Œç®€ç®€å•å•æ‰æ˜¯çœŸã€‚</p>
<p>ç°åœ¨è®©æˆ‘ä»¬å›è¿‡å¤´æ¥ï¼Œçœ‹çœ‹å•æ­¥åŠ å™ªè¿‡ç¨‹ <span class="arithmatex">\(x_i=\alpha_i x_{i-1}+\beta_i\varepsilon_i\)</span>ï¼Œæˆ‘ä»¬å…¶å®å¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯ <span class="arithmatex">\(\varepsilon_i\)</span> è¿™ä¸ª<strong>æ­£æ€åˆ†å¸ƒçš„é‡å‚æ•°åŒ–</strong>ï¼</p>
<p>ä¹Ÿå°±æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠåŠ å™ªè¿‡ç¨‹çš„é€’æ¨å¼å†™æˆæ¡ä»¶åˆ†å¸ƒçš„å½¢å¼ï¼š<span class="arithmatex">\(p(x_i | x_{i-1}) = \mathcal{N}(x_i; \alpha_t x_{i-1}, \beta_i^2 I)ï¼Œ\alpha_i^2 + \beta_i^2 = 1\)</span></p>
<p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬åˆæ­¥æ¥æ•´ç†ä¸€ä¸‹ KL æ•£åº¦çš„å¼å­ï¼š
$$\int p \log \frac{p}{q} \mathrm dx_T \cdots \mathrm dx_0 = \int p \log p \mathrm dx_T \cdots \mathrm dx_0 - \int p \log q \mathrm dx_T \cdots \mathrm dx_0
$$</p>
<p>æ³¨æ„åˆ°å¯¹ <span class="arithmatex">\(p\)</span> è€Œè¨€ï¼Œæ‰€æœ‰å‚æ•°å’Œåˆ†å¸ƒéƒ½æ˜¯å®šæ­»çš„ï¼Œæ²¡æœ‰å¯å­¦ä¹ çš„å‚æ•°ï¼Œé‚£ä¹ˆä¸Šå¼çš„ç¬¬ä¸€éƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå¯ä»¥ä¸¢æ‰ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬ç€é‡ç®—ç¬¬äºŒéƒ¨åˆ†ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    ELBO &amp;=- \int \left[ p(x_T | x_{T-1}) \cdots p(x_1 | x_0) p(x_0) \right] \left( \sum_{i=1}^T \log q(x_{i-1} | x_i) + \log q(x_T) \right) \mathrm dx_T \cdots \mathrm dx_0\\
    &amp;= - \sum_{i=1}^T \int p(x_T | x_{T-1}) \cdots p(x_1 | x_0) p(x_0) \log q(x_{i-1} | x_i) \mathrm dx_T \cdots \mathrm dx_0
\end{align*}
\]</div>
<p>è¿™é‡ŒæŠŠ <span class="arithmatex">\(\log q(x_T)\)</span> ä¸¢æ‰ï¼Œæ˜¯å› ä¸º <span class="arithmatex">\(q(x_T)\)</span> æ˜¯åŠ å™ªåçš„å›¾åƒï¼Œä¹Ÿæ²¡æœ‰å¯å­¦ä¹ çš„å‚æ•°ã€‚</p>
<p>å¯¹ <span class="arithmatex">\(x_{i+1} \cdots x_T\)</span> è€Œè¨€ï¼Œè¿™éƒ¨åˆ†ç§¯åˆ†ï¼š</p>
<div class="arithmatex">\[
\int p(x_T | x_{T-1}) \cdots p(x_{i+1} | x_i)\mathrm dx_T \cdots \mathrm dx_0
\]</div>
<p>å› ä¸ºè¿™ä¸€å—å’ŒçœŸæ­£å¾…å­¦ä¹ çš„ <span class="arithmatex">\(x_i, x_{i-1}\)</span> æ— å…³ï¼Œå¯ä»¥å…ˆç§¯å‡ºæ¥ä¸€ä¸ªå¸¸æ•°ï¼Œç„¶åå°±å¯ä»¥ä¸¢æ‰äº†ã€‚</p>
<p>è€Œå¯¹ <span class="arithmatex">\(x_i \cdots x_0\)</span> è€Œè¨€ï¼Œæˆ‘ä»¬æœ‰</p>
<div class="arithmatex">\[
p(x_i | x_{i-1}) \cdots p(x_1 | x_0) p(x_0) = p(x_i | x_{i-1}) p(x_{i-1} | x_0) p(x_0)
\]</div>
<p>ä¹Ÿå°±æ˜¯åˆšåˆšæåˆ°çš„å¤šæ­¥å¹¶ä¸€æ­¥çš„åŠ å™ªã€‚ç°åœ¨æ”¹å†™å¾—åˆ°çš„ ELBO å¦‚ä¸‹ï¼š</p>
<div class="arithmatex">\[
ELBO= - \sum_{i=1}^T \int p(x_i | x_{i-1}) p(x_{i-1} | x_0) p(x_0) \log q(x_{i-1} | x_i) \mathrm dx_T \cdots \mathrm dx_0
\]</div>
<p>ä¸‹é¢æˆ‘ä»¬è¦å¯¹ <span class="arithmatex">\(q\)</span> è¿›è¡Œå»ºæ¨¡äº†ï¼Œæˆ‘ä»¬è¿˜æ˜¯å€Ÿé‰´ä» VAE é‡Œé¢å­¦åˆ°çš„è§‚ç‚¹ï¼Œå®ƒè™½ç„¶ä½œä¸ºä¸€ä¸ªåœ¨ <span class="arithmatex">\(x_i\)</span> ä¸Šâ€œå»å™ªâ€çš„è¿‡ç¨‹ï¼Œä½†ä»ç„¶å¯ä»¥å°†å…¶å»ºæ¨¡æˆä¸€ä¸ªæ¡ä»¶æ­£æ€åˆ†å¸ƒï¼š</p>
<div class="arithmatex">\[
q(x_{i-1} | x_i) = \mathcal{N}(x_{i-1}; x_i, \sigma_t^2)
\]</div>
<p>ç®€å•å±•å¼€ä¸€ä¸‹ç„¶åå–ä¸ªå¯¹æ•°ï¼š</p>
<div class="arithmatex">\[
-\log q(x_{i-1} | x_i) \propto \frac{1}{2\sigma_t^2} \| x_{i-1} - \mu(x_i) \|^2
\]</div>
<p>ä¸‹é¢ï¼Œæˆ‘ä»¬å¯¹å‡å€¼ <span class="arithmatex">\(\mu(x_i)\)</span> è¿›è¡Œè®¨è®ºã€‚</p>
<p>ç”±äºåœ¨ç”Ÿæˆæ—¶ï¼Œ<span class="arithmatex">\(x_i = \alpha_i x_{i-1} + \beta_i \varepsilon_i\)</span>ï¼Œä¹Ÿå°±æ˜¯ <span class="arithmatex">\(x_{i-1} = \frac{1}{\alpha_i}(x_i - \beta_i \varepsilon_i)\)</span>ã€‚æˆ‘ä»¬å¸Œæœ›å»å™ªä¹‹åï¼Œå°½é‡è´´åˆåŸåˆ†å¸ƒ <span class="arithmatex">\(x_{i-1}\)</span>ï¼Œä¹Ÿå°±æ˜¯å–</p>
<div class="arithmatex">\[
\mu(x_i) = \frac{1}{\alpha_i} \left[ x_i - \beta_i \varepsilon_\theta(x_i, i) \right]
\]</div>
<p>è¿™é‡Œçš„ <span class="arithmatex">\(\varepsilon_\theta(x_i, i)\)</span> å°±æ˜¯å¯å­¦ä¹ çš„å»å™ªç½‘ç»œã€‚ç”±æ­¤å¯å¾—ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    \| x_{i-1} - \mu(x_i) \|^2 &amp;= \| x_{i-1} - \frac{1}{\alpha_i} \left[ \alpha_i x_{i-1} + \beta_i \varepsilon_i - \beta_i \varepsilon_\theta(x_i, i) \right] \|^2\\
    &amp;= \frac{\beta_i^2}{\alpha_i^2} \| \varepsilon_\theta(x_i, i) - \varepsilon_i \|^2
\end{align*}
\]</div>
<p>è¿™ä¸ªæŸå¤±å‡½æ•°çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬è¾“å…¥æ¯ä¸€æ­¥çš„å¸¦å™ªå›¾ç‰‡ <span class="arithmatex">\(x_i\)</span> ä»¥åŠæ—¶é—´å‚æ•° <span class="arithmatex">\(i\)</span>ï¼Œç”¨æ¥é¢„æµ‹å™ªå£°ã€‚</p>
<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©æŸå¤±ä¸ä¾èµ–äº <span class="arithmatex">\(x_i\)</span> è€Œæ˜¯åƒä¹‹å‰ä¸€æ ·ç›´æ¥ä» <span class="arithmatex">\(x_0\)</span> è·å–ï¼Œå¯¹å…¶å±•å¼€ä¸€ä¸‹ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    x_i &amp;= \alpha_i x_{i-1} + \beta_i \varepsilon_i = \alpha_i \left( \hat{\alpha}_{i-1} x_0 + \hat{\beta}_{i-1} \hat{\varepsilon}_{i-1} \right) + \beta_i \varepsilon_i\\
    &amp;= \hat{\alpha}_i x_0 + \alpha_i \hat{\beta}_{i-1} \hat{\varepsilon}_{i-1} + \beta_i \varepsilon_i
\end{align*}
\]</div>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„æŸå¤±å°±åªä¾èµ–äºå›ºå®šçš„åŸåˆ†å¸ƒ <span class="arithmatex">\(p(x_0)\)</span> ä»¥åŠä¸¤ä¸ªéšæœºå˜é‡ï¼Œä»£å›æ¥å¾—åˆ°æŸå¤±å‡½æ•°ï¼š</p>
<div class="arithmatex">\[
\sum_{i=1}^T \frac{\beta_i^2}{\alpha_i^2 \sigma_i^2} \mathbb{E}_{x_0 \sim p(x_0), \hat{\varepsilon}_{i-1}, \varepsilon_i \sim \mathcal{N}(0, I)} \left[ \| \varepsilon_i - \varepsilon_\theta\left( \hat{\alpha}_i x_0 + \alpha_i \hat{\beta}_{i-1} \hat{\varepsilon}_{i-1} + \beta_i \varepsilon_i, i \right) \|^2 \right]\]</div>
<p>å¯¹ <span class="arithmatex">\(\alpha_i \hat{\beta}_{i-1} \hat{\varepsilon}_{i-1} + \beta_i \varepsilon_i\)</span> è€Œè¨€,å…¶ä¸ºä¸¤ä¸ªæ­£æ€åˆ†å¸ƒçš„å åŠ ï¼Œå°±å¯å†™ä½œä¸€ä¸ªæ­£æ€åˆ†å¸ƒ <span class="arithmatex">\(\mathcal{N}\left( 0, \sqrt{\alpha_i^2 \hat{\beta}_{i-1}^2 + \beta_i^2} \right)\)</span>ï¼Œå…¶ä¸­ <span class="arithmatex">\(\alpha_i^2 (1 - \hat{\alpha}_{i-1}^2) + \beta_i^2 = 1 - \hat{\alpha}_i^2 = \hat{\beta}_i^2\)</span>ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å†™æˆï¼š</p>
<div class="arithmatex">\[
\alpha_i \hat{\beta}_{i-1} \hat{\varepsilon}_{i-1} + \beta_i \varepsilon_i=\hat{\beta}_i^2\varepsilon,\quad\varepsilon\sim\mathcal{N}(0,I)
\]</div>
<p>ä¸ºäº†æ¶ˆæ‰ <span class="arithmatex">\(\hat{\varepsilon}_{i-1}, \varepsilon_i\)</span> ä¸­çš„ä¸€ä¸ªï¼Œè¿™é‡Œéœ€è¦é…ä¸€ä¸ª <span class="arithmatex">\(w\)</span>ï¼Œä¸»è¦ç”¨2æ¡æ€§è´¨ï¼š
<span class="arithmatex">\(\begin{cases} \hat{\beta}_i w, \ w \sim \mathcal{N}(0, I) \\ \mathbb{E}[\varepsilon w^\top] = 0 \end{cases}\)</span></p>
<p>è€Œ <span class="arithmatex">\(w\)</span> ä¹Ÿéœ€è¦èƒ½ç”¨ <span class="arithmatex">\(\hat{\varepsilon}_{i-1}, \varepsilon_i\)</span> è¡¨è¾¾ã€‚è€ƒè™‘åˆ° <span class="arithmatex">\(\hat{\varepsilon}_{i-1}å’Œ\varepsilon_i\)</span> çš„ç‹¬ç«‹æ€§ï¼Œäº¤æ¢ <span class="arithmatex">\(\varepsilon\)</span> ä¸­çš„ç³»æ•°ï¼Œå– <span class="arithmatex">\(\hat{\beta}_i w = \beta_i \hat{\varepsilon}_{i-1} - \alpha_i \hat{\beta}_{i-1} \varepsilon_i\)</span> å³å¯æ»¡è¶³ä»¥ä¸Šè¦æ±‚ã€‚</p>
<p>å†ä» <span class="arithmatex">\(\varepsilon, w\)</span> ä¸­è§£å‡º <span class="arithmatex">\(\varepsilon_i = \frac{\beta_i \varepsilon - \alpha_i \hat{\beta}_{i-1} w}{\hat{\beta}_i}\)</span>ï¼ˆåˆ©ç”¨ <span class="arithmatex">\(\beta^2_t+\alpha^2_t\hat\beta^2_{tâˆ’1} = \hat\beta_i^2\)</span> ï¼‰</p>
<p>è¿™æ ·æœŸæœ›é¡¹å˜æˆäº†ï¼š</p>
<div class="arithmatex">\[
\mathbb{E}_{w \sim \mathcal{N}(0, I), \varepsilon \sim \mathcal{N}(0, I)} \left[\| \frac{\beta_i \varepsilon - \alpha_i \hat{\beta}_{i-1} w}{\hat{\beta}_i} - \varepsilon_\theta\left( \hat{\alpha}_i x_0 + \beta_i \varepsilon, i \right)\|^2 \right]
\]</div>
<p>ç”±äº <span class="arithmatex">\(w\)</span> å’Œ <span class="arithmatex">\(\varepsilon\)</span> ç‹¬ç«‹ï¼Œå…ˆå¯¹ <span class="arithmatex">\(w\)</span> æ±‚æœŸæœ›å¾—ä¸€å¸¸æ•°ï¼Œå»æ‰ä¹‹åï¼Œå°±å¾—åˆ°äº†åŸè®ºæ–‡ DDPM çš„æŸå¤±ï¼š</p>
<div class="arithmatex">\[
\mathcal{L}_{\mathrm{DDPM}} = \sum_{i=1}^T \frac{\beta_i^4}{\hat{\beta}_i^2 \alpha_i^2 \sigma_i^2} \mathbb{E}_{\varepsilon \sim \mathcal{N}(0, I), x_0 \sim p(x_0)} \left[ \| \varepsilon - \frac{\hat{\beta}_i}{\beta_i} \varepsilon_\theta\left( \hat{\alpha}_i x_0 + \beta_i \varepsilon, i \right) \|^2 \right]
\]</div>
<h2 id="from-the-perspective-of-sde">From the perspective of SDE<a class="headerlink" href="#from-the-perspective-of-sde" title="Permanent link">Â¶</a></h2>
<p>Yang Song çš„æ–‡ç«  arXiv: 2011.13456 å°†æ‰©æ•£æ¨¡å‹å’Œå¾—åˆ†åŒ¹é…ç›¸è”ç³»ï¼Œå¹¶ä¸”å¼•å…¥äº†éšæœºå¾®åˆ†æ–¹ç¨‹ä½œä¸ºå®ƒä»¬å…±åŒçš„ç†è®ºåŸºç¡€ã€‚è¿™å°±å¤§å¤§æå‡äº† DDPM çš„ç†è®ºé«˜åº¦ï¼Œä½¿ä¹‹ä¸å±€é™äºâ€œåŠ å™ªâ€”â€”å»å™ªâ€çš„åŸåˆæ€è·¯ã€‚</p>
<p>å¼•å…¥ SDE çš„æ„ä¹‰ä¸ä»…åœ¨äºæ‰¾åˆ°ä¸€ä¸ªæ•°å­¦å·¥å…·æ¥ç ”ç©¶æ‰©æ•£æ¨¡å‹ï¼Œæ›´åœ¨äºå…¶å¯ä»¥ç›´æ¥è½¬åŒ–ä¸ºæ¦‚ç‡æµ ODE è¿›è¡Œæ±‚è§£ï¼Œè¿™å°±å¯ä»¥å°† ODE çš„æ•°å€¼è§£æ³•ç”¨æ¥åŠ é€Ÿæ‰©æ•£æ¨¡å‹çš„æ”¶æ•›ã€‚è¿™å°±å‚¬ç”Ÿäº†è¯¸å¦‚ Euler, DPM Solver ç­‰ä¸€ä¼—é‡‡æ ·å™¨ã€‚</p>
<p>è®©æˆ‘ä»¬å¼€å§‹ä»‹ç» Song çš„è®ºæ–‡ç¬¬ä¸€éƒ¨åˆ†çš„å·¥ä½œï¼šè”ç³» DDPM å’Œå¾—åˆ†åŒ¹é…ã€‚è¿™ä¸€èŠ‚çš„ç›®çš„ï¼Œæ˜¯å…³è”ä¸Šå¾—åˆ†åŒ¹é…ç®—æ³•çš„æŸå¤±å‡½æ•°</p>
<div class="arithmatex">\[
\| s_\theta(x_i, i) - \nabla \log p(x_i) \|^2
\]</div>
<p>å…¶ä¸­ <span class="arithmatex">\(\nabla \log p(x_i)\)</span> è¢«ç§°ä½œå¾—åˆ†å‡½æ•°ã€‚æ„Ÿæ€§ç†è§£ï¼Œæˆ‘ä»¬æ˜¯åœ¨æ‹Ÿåˆä¸€ä¸ªæ¢¯åº¦åœºï¼Œè®©è¿™ä¸ªæ¢¯åº¦åœºå»æŒ‡å¼•æˆ‘ä»¬çš„ç”Ÿæˆã€‚</p>
<h3 id="ddpm">ä» DDPM åˆ°å¾—åˆ†åŒ¹é…<a class="headerlink" href="#ddpm" title="Permanent link">Â¶</a></h3>
<p>ä¸ºäº†æ¨å‡ºå¾—åˆ†åŒ¹é…å½¢å¼çš„æŸå¤±ï¼Œæˆ‘ä»¬å…ˆå¼•å…¥ Tweddie's Formulaã€‚</p>
<p>å›é¡¾å‰å‘è¿‡ç¨‹ <span class="arithmatex">\(p(x_i | x_{i-1}) = \mathcal{N}(x_i; \hat{\alpha}_i x_0, \hat{\beta}_i^2 I)\)</span></p>
<p>æˆ‘ä»¬éœ€è¦å¾€å›ä¼°è®¡åå‘è¿‡ç¨‹ã€‚è€ƒè™‘æ­£æ€åˆ†å¸ƒ <span class="arithmatex">\(p(x|\theta) = \mathcal{N}(\theta, \sigma^2 I)\)</span></p>
<p>å…¶è¾¹ç¼˜åˆ†å¸ƒ <span class="arithmatex">\(p(x) = \int p(x|\theta) p(\theta) d\theta\)</span>ï¼Œç°åœ¨å·²çŸ¥ <span class="arithmatex">\(x\)</span>ï¼Œæˆ‘ä»¬è¦æ±‚ <span class="arithmatex">\(\theta\)</span> å³ï¼š</p>
<div class="arithmatex">\[
\mathbb{E}[\theta | x] = \int \theta p(\theta | x) \mathrm d\theta = \int \theta \frac{p(x|\theta) p(\theta)}{p(x)} \mathrm d\theta
\]</div>
<p>ç”±äº <span class="arithmatex">\(p(x)\)</span> å·²çŸ¥ï¼Œå¯ä»¥æåˆ°ç§¯åˆ†å·å¤–ï¼š</p>
<div class="arithmatex">\[
\mathbb{E}[\theta | x]= \frac{1}{p(x)} \int \theta \cdot \frac{1}{\sigma \sqrt{2\pi}} \exp\left[ -\frac{\|x - \theta\|^2}{2\sigma^2} \right] p(\theta) \mathrm d\theta
\]</div>
<p>è¿™é‡Œæˆ‘ä»¬å‡‘ä¸€ä¸ª <span class="arithmatex">\(\dfrac{\mathrm d p(x|\theta)}{\mathrm d x} = \dfrac{\theta - x}{\sigma^2} \cdot p(x|\theta)\)</span>ï¼Œç„¶åæ¥ç€å¾€ä¸‹æ¨ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    \mathbb{E}[\theta | x]&amp;= \frac{\sigma^2}{p(x)} \int \frac{\theta - x}{\sigma^2} p(x|\theta) p(\theta) + \frac{x}{\sigma^2} p(x|\theta) p(\theta) \mathrm d\theta\\
    &amp;= \frac{\sigma^2}{p(x)} \int \frac{\mathrm d p(x|\theta)}{\mathrm d x} p(\theta) \mathrm d\theta + \frac{\sigma^2}{p(x)} \int \frac{x}{\sigma^2} p(x|\theta) p(\theta) \mathrm d\theta
\end{align*}
\]</div>
<p>ç”±äº <span class="arithmatex">\(\dfrac{\mathrm d}{\mathrm d x}\)</span> å’Œ <span class="arithmatex">\(\theta\)</span> æ— å…³ï¼Œåˆ™</p>
<div class="arithmatex">\[
\int \frac{\mathrm d}{\mathrm d x} p(x|\theta) p(\theta) \mathrm d\theta = \frac{\mathrm d}{\mathrm d x} \int p(x|\theta) p(\theta) \mathrm d\theta = \frac{\mathrm d p(x)}{\mathrm d x}
\]</div>
<p>åŒç†ï¼Œåé¢ä¸€åŠå¯ä»¥æå‡º <span class="arithmatex">\(x\)</span>ï¼Œå¾—åˆ°</p>
<div class="arithmatex">\[
\frac{x}{p(x)} \int p(x|\theta) p(\theta) \mathrm d\theta = x
\]</div>
<p>å› æ­¤ï¼š</p>
<div class="arithmatex">\[
\mathbb{E}[\theta | x] = x + \frac{\sigma^2}{p(x)} \frac{\mathrm d}{\mathrm d x} p(x) = x + \sigma^2 \frac{\mathrm d}{\mathrm d x} \log p(x)
\]</div>
<p>è‹¥ <span class="arithmatex">\(x\)</span> ä¸ºå‘é‡ï¼Œåˆ™å†™ä½œ <span class="arithmatex">\(x + \sigma^2 \nabla \log p(x)\)</span>ï¼Œæ­¤å³ä¸º Tweedie's Formulaï¼</p>
<p>æŠŠè¿™ä¸ªä¼°è®¡ä»£å›å‰å‘è¿‡ç¨‹ï¼Œå³ <span class="arithmatex">\({\alpha}_i x_{i-1} = x_i + {\beta}_i^2 \nabla \log p(x_i)\)</span></p>
<p>è®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹ï¼š<span class="arithmatex">\(x_i = {\alpha}_i x_{i-1} + {\beta}_i \varepsilon_i\)</span>ï¼Œä»£ä¸Šå»å¯å¾—ï¼Œ<span class="arithmatex">\(\nabla \log p(x_i) = -\dfrac{\varepsilon_i}{{\beta}_i}\)</span>ã€‚ è¿™é‡Œå·²ç»æœ‰ç‚¹å‘³é“äº†ï¼šä¹‹å‰æˆ‘ä»¬å·²ç»è®¨è®ºè¿‡ DDPM çš„å»å™ªè¿‡ç¨‹æ˜¯å»å­¦ä¹ æ¯ä¸€æ­¥çš„å™ªå£° <span class="arithmatex">\(\varepsilon_i\)</span>ï¼Œè€Œè¿™ä¸ªå¾—åˆ†å‡½æ•°æ°å·§ä¹Ÿæ˜¯è¿™ä¸ªå½¢å¼ï¼Œæœ€å¤šå·®ä¸€ä¸ªç³»æ•°ã€‚</p>
<p>å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„æ¨å¯¼ï¼Œä» <span class="arithmatex">\(\| x_{i-1} - \mu(x_i) \|^2\)</span>ï¼Œæˆ‘ä»¬æœ‰ï¼š</p>
<div class="arithmatex">\[
\begin{cases} x_{i-1} = \frac{1}{{\alpha}_i} (x_i - {\beta}_i \varepsilon_i) \\ \mu(x_i) = \frac{1}{{\alpha}_i} (x_i - {\beta}_i \varepsilon_\theta(x_i, i)) \end{cases} \implies \| x_{i-1} - \mu(x_i) \|^2 = \frac{{\beta}_i^2}{{\alpha}_i^2} \| \varepsilon_\theta(x_i, i) - \varepsilon_i \|^2
\]</div>
<p>ç”± <span class="arithmatex">\(-\varepsilon_i = {\beta}_i \nabla \log p(x_i)\)</span>ï¼Œæˆ‘ä»¬å– <span class="arithmatex">\(s_\theta(x_i, i) = -\dfrac{1}{{\beta}_i} \varepsilon_\theta(x_i, i)\)</span>ï¼Œå¯å¾—</p>
<div class="arithmatex">\[
\| x_{i-1} - \mu(x_i) \|^2=\dfrac{{\beta}_i^4}{{\alpha}_i^2 \sigma_i^2} \| s_\theta(x_i, i) - \nabla \log p(x_i) \|^2
\]</div>
<p>æ³¨æ„ï¼Œæ­¤æ—¶å®ƒåªå’Œ <span class="arithmatex">\(x_i\)</span> æœ‰å…³äº†ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥å†™å‡ºæŸå¤±å‡½æ•°äº†ï¼š</p>
<div class="arithmatex">\[
\mathcal{L}_{\text{DDPM}} = \sum_{i=1}^T \dfrac{\beta_i^4}{\alpha_i^2 \sigma_i^2} \mathbb{E}_{x_i \sim p(x_i)} \left[ \| s_\theta(x_i, i) - \nabla \log p(x_i) \|^2 \right]
\]</div>
<p>è¿™å°±æ˜¯å¾—åˆ†åŒ¹é…å½¢å¼çš„æŸå¤±å‡½æ•°ã€‚æˆ‘ä»¬éœ€è¦è®­ç»ƒä¸€ä¸ªç½‘ç»œ <span class="arithmatex">\(s_\theta(x_i, i)\)</span> æ¥å—æ¯ä¸€æ­¥çš„å›¾åƒ <span class="arithmatex">\(x_i\)</span> å’Œæ—¶é—´ <span class="arithmatex">\(i\)</span> å»åŒ¹é…è¿™ä¸ªå¾—åˆ†å‡½æ•° <span class="arithmatex">\(\nabla \log p(x_i)\)</span>ã€‚</p>
<p>è¿™é‡Œæä¸€å˜´ï¼Œç½‘ä¸Šå¾ˆå¤š DDPM çš„å¾—åˆ†åŒ¹é…å½¢å¼çš„æ¨å¯¼ï¼Œç”¨çš„å¾—åˆ†å‡½æ•°æ˜¯è¿™ä¸ªæ¡ä»¶å¾—åˆ†å‡½æ•° <span class="arithmatex">\(\nabla_{x_i}\log p(x_i|x_0)=-\dfrac{\hat\varepsilon_i}{\hat\beta_i}\)</span>ã€‚ä¸è¿‡è¿™æ ·æ¨è¿‡æ¥å°±ç¨æ˜¾å¤æ‚ã€‚åªè¦æ³¨æ„åˆ°</p>
<div class="arithmatex">\[
p(x_i)=\int p(x_i|x_0)p(x_0)\mathrm dx_0=\mathbb{E}_{x_0\sim p(x_0)}[p(x_i|x_0)]
\]</div>
<p>å†å¸¦å…¥å¾—åˆ†å‡½æ•°ï¼Œå°±å¯ä»¥çŸ¥é“ä¸¤è€…ç­‰ä»·äº†ã€‚<a href="https://kexue.fm/archives/9509">æ­¤äº‹åœ¨ç§‘å­¦ç©ºé—´ä¸­å·²æœ‰è®°è½½</a>ã€‚</p>
<p>äº‹å®ä¸Šè¿™ä¸ªå½¢å¼æ‰æ›´å¸¸ç”¨ã€‚å› ä¸ºæ‰©æ•£æ¨¡å‹çš„ä¸€ä¸ªå…³é”® trick å°±æ˜¯ä»åˆå§‹çŠ¶æ€ <span class="arithmatex">\(x_0\)</span> ä¸€æ­¥æ¨åˆ°ä»»æ„çŠ¶æ€ <span class="arithmatex">\(x_i\)</span>ï¼Œå› æ­¤åœ¨ä»¥åçš„è®¨è®ºä¸­æˆ‘ä»¬æ²¿ç”¨è¿™ä¸€å¾—åˆ†å‡½æ•°ã€‚</p>
<h3 id="_2">å…³è”ä¸Šéšæœºå¾®åˆ†æ–¹ç¨‹<a class="headerlink" href="#_2" title="Permanent link">Â¶</a></h3>
<h4 id="_3">å‰å‘è¿‡ç¨‹<a class="headerlink" href="#_3" title="Permanent link">Â¶</a></h4>
<p>ä¸‹é¢æˆ‘ä»¬å¼€å§‹ä»‹ç» Song çš„è®ºæ–‡ç¬¬äºŒéƒ¨åˆ†ï¼šå°†åŠ å™ªå’Œå»å™ªçš„è¿‡ç¨‹å…³è”ä¸Šéšæœºå¾®åˆ†æ–¹ç¨‹ã€‚</p>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬è€ƒè™‘æŠŠä¸€å…± <span class="arithmatex">\(T\)</span> æ­¥çš„ç¦»æ•£è¿‡ç¨‹ï¼Œè½¬åŒ–ä¸ºå¯¹ <span class="arithmatex">\(t\in[0,1]\)</span> çš„è¿ç»­è¿‡ç¨‹çš„å¾®å…ƒè¿‘ä¼¼ï¼Œå› æ­¤æˆ‘ä»¬å…ˆåšæ¢å…ƒï¼Œå¼•å…¥è¿ç»­é‡ï¼š</p>
<div class="arithmatex">\[
x_i = x(t),\quad\alpha_i = \sqrt{1 - \frac{1}{T} \beta\left(t + \frac{1}{T}\right)} = \sqrt{1 - \Delta t \cdot \beta(t + \Delta t)},\quad\\
x_{i+1} = x\left(t + \frac{1}{T}\right) = x(t + \Delta t),\quad\beta_i = \sqrt{\frac{1}{T}} \beta\left(t + \frac{1}{T}\right) = \sqrt{\Delta t \cdot \beta(t + \Delta t)}
\]</div>
<p>è¿™é‡Œ <span class="arithmatex">\(T\)</span> å³æ€»æ­¥æ•°ï¼Œ<span class="arithmatex">\(\dfrac{1}{T}\)</span> å³æˆ‘ä»¬è¦å¼•å…¥çš„æ—¶é—´å¾®å…ƒ <span class="arithmatex">\(\Delta t\)</span>ã€‚</p>
<p>æˆ‘ä»¬å¯¹ <span class="arithmatex">\(\alpha_i\)</span> ä½œæ³°å‹’å±•å¼€ <span class="arithmatex">\(\alpha_i \sim 1 - \dfrac{\beta(t + \Delta t) \cdot \Delta t}{2}\)</span>ï¼Œç„¶åæ›¿æ¢ä¸€ä¸‹ï¼Œå¾—åˆ°ï¼š</p>
<div class="arithmatex">\[
x(t + \Delta t) = \left[ 1 - \frac{\beta(t + \Delta t) \cdot \Delta t}{2} \right] x(t) + \sqrt{\beta(t + \Delta t)} \cdot \sqrt{\Delta t} \ \varepsilon(t)
\]</div>
<p>å‡å» <span class="arithmatex">\(x(t)\)</span> å¾—åˆ°ï¼š</p>
<div class="arithmatex">\[
\mathrm dx = -\frac{\beta(t) \cdot x(t)}{2} \mathrm dt + \sqrt{\beta(t)} \cdot \sqrt{\mathrm dt} \cdot \varepsilon(t)
\]</div>
<p>å– <span class="arithmatex">\(f[x(t), t] = -\dfrac{\beta(t) \cdot x(t)}{2}ï¼Œg(t) = \sqrt{\beta(t)}ï¼Œ\mathrm dw = \varepsilon(t) \cdot \sqrt{\mathrm dt}\)</span>ï¼ˆå…¶ä¸­ <span class="arithmatex">\(\mathrm dw\)</span> ä¸ºå¸ƒæœ—è¿åŠ¨å™ªå£°ï¼Œå³â€œæ‰©æ•£é¡¹â€ï¼‰ï¼Œåˆ™æœ‰ï¼š</p>
<div class="arithmatex">\[
\mathrm dx = f[x(t), t] \mathrm dt + g(t) \mathrm dw
\]</div>
<p>ï¼ˆä¸ºä»€ä¹ˆå¸ƒæœ—è¿åŠ¨çš„å™ªå£°å’Œ <span class="arithmatex">\(\sqrt{\mathrm dt}\)</span> æœ‰å…³å‘¢ï¼Ÿè¯·å‚é˜…æœ¬æ–‡<a href="https://dicaeopolis.github.io/DNN/model-expr/DDPM/#i">é™„å½• I</a>ï¼‰</p>
<p>è¿™å°±æ˜¯åŠ å™ªè¿‡ç¨‹æ»¡è¶³çš„ SDEã€‚åœ¨åŸè®ºæ–‡ä¸­å¯¹åº” VP-SDE é‚£ä¸€èŠ‚ï¼Œä¹Ÿå°±æ˜¯ç¦»æ•£è¿‘ä¼¼çš„ SDEã€‚</p>
<h4 id="_4">å˜é‡æ›¿æ¢<a class="headerlink" href="#_4" title="Permanent link">Â¶</a></h4>
<p>æˆ‘ä»¬å¯¹è¿™ä¸ª SDE åšä¸€äº›å˜æ¢ï¼Œå¯¼å‡ºå…¶æ›´æœ‰ç”¨çš„å½¢å¼ã€‚</p>
<p>ä» <span class="arithmatex">\(\alpha_i \sim 1 - \dfrac{\beta(t + \Delta t) \cdot \Delta t}{2}\)</span> ä¹Ÿå°±æ˜¯ <span class="arithmatex">\(\alpha_i = 1 - \dfrac{\beta(t_i)}{2}\mathrm dt\)</span></p>
<p>è®©æˆ‘ä»¬è®¡ç®— <span class="arithmatex">\(\hat \alpha_i\)</span> åœ¨è¿ç»­æ„ä¹‰ä¸Šçš„å¯¹åº” <span class="arithmatex">\(\hat \alpha(t)\)</span>ï¼Œç”±äºæ¶‰åŠåˆ°è¿ä¹˜ï¼Œæˆ‘ä»¬ä¸¤è¾¹å–å¯¹æ•°ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    \log \hat \alpha(t)&amp;=\sum_{k=1}^i\log \alpha_i\\
    &amp;=\sum_{k=1}^i\log (1 - \dfrac{\beta(t_i)}{2}\mathrm dt)\\
    &amp;\sim \sum_{k=1}^i - \dfrac{\beta(t_i)}{2}\mathrm dt\\
    &amp;=-\frac 12\int_0^t\beta(t) \mathrm dt
\end{align*}
\]</div>
<p>è¿™é‡Œåˆ©ç”¨äº† <span class="arithmatex">\(\log\)</span> çš„ä¸€é˜¶æ³°å‹’å±•å¼€ã€‚å¯¹åº”çš„ï¼Œæˆ‘ä»¬æœ‰</p>
<div class="arithmatex">\[
\hat \beta^2(t)=1-\hat \alpha^2(t)=1-\exp(-\int_0^t\beta(t) \mathrm dt)
\]</div>
<p>ä»¥åŠ</p>
<div class="arithmatex">\[
f(t)=-\dfrac{\beta(t)}{2}=\dfrac{\mathrm d \log\hat\alpha(t)}{\mathrm dt}
\]</div>
<p>å¦‚æœæˆ‘ä»¬å¯¹ <span class="arithmatex">\(\hat \beta^2(t)\)</span> æ±‚å¯¼ï¼š</p>
<div class="arithmatex">\[
\dfrac{\mathrm d \hat \beta^2(t)}{\mathrm dt}=\beta(t)\left(\exp(-\int_0^t\beta(t) \mathrm dt)\right)=\beta(t)(1-\hat \beta^2(t))=\beta(t)-\beta(t)\hat \beta^2(t)
\]</div>
<p>ä¹Ÿå°±æ˜¯</p>
<div class="arithmatex">\[
g^2(t)=\beta(t)=\dfrac{\mathrm d \hat \beta^2(t)}{\mathrm dt}-\dfrac{2\mathrm d \log\hat\alpha(t)}{\mathrm dt}\hat \beta^2(t)
\]</div>
<p>åœ¨æ­¤æ„ä¹‰ä¸‹æˆ‘ä»¬çš„ SDE å†™æˆï¼š</p>
<div class="arithmatex">\[
\mathrm dx=f(t)x(t)\mathrm dt+g(t)\mathrm dw
\]</div>
<p>å¼•å…¥è¿™éƒ¨åˆ†æ¨å¯¼ï¼Œä¸»è¦æ˜¯å’Œä¹‹å‰ DDPM å¤šæ­¥å¹¶ä¸€æ­¥çš„ç›®çš„æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬è¦æ¶ˆå»æ¯”è¾ƒéº»çƒ¦çš„ <span class="arithmatex">\(\beta(t)\)</span>ï¼Œè½¬åŒ–ä¸ºå¯ä»¥ä¸€æ­¥å¾—åˆ°çš„ <span class="arithmatex">\(\hat\beta(t)\)</span> å’Œ <span class="arithmatex">\(\hat\alpha(t)\)</span>ï¼ŒåŒæ—¶ï¼Œä¹Ÿæ˜¯ä¸ºåé¢ DPM Solver çš„æ¨å¯¼æœåŠ¡ã€‚</p>
<h4 id="_5">åå‘è¿‡ç¨‹<a class="headerlink" href="#_5" title="Permanent link">Â¶</a></h4>
<p>é‚£ä¹ˆå¦‚ä½•è·å¾—å»å™ªè¿‡ç¨‹çš„åå‘ SDE å‘¢ï¼Ÿåˆå¦‚ä½•ä¸åˆšæ‰å¾—åˆ°çš„å¾—åˆ†åŒ¹é…å½¢å¼ç›¸è”ç³»å‘¢ï¼Ÿå½“ç„¶æ˜¯åˆ©ç”¨è´å¶æ–¯å…¬å¼ï¼Œä¸ºæ­¤æˆ‘ä»¬å…ˆå°†ä¸Šé¢çš„ SDE å†™æˆæ¡ä»¶åˆ†å¸ƒï¼š</p>
<div class="arithmatex">\[
p(x_{t+\Delta t} | x_t) = \mathcal{N}\bigl(x_{t+\Delta t}; \ x_t + f_x(t) \mathrm dt, \ g^2(t) \mathrm dt \cdot I\bigr)
\]</div>
<p>ç°åœ¨ï¼Œå°±å¯ä»¥åˆ©ç”¨è´å¶æ–¯å…¬å¼äº†</p>
<div class="arithmatex">\[
\begin{align*}
    p(x_t | x_{t+\Delta t}) &amp;= \dfrac{p(x_{t+\Delta t} | x_t) \cdot p(x_t)}{p(x_{t+\Delta t})}\\
    &amp;= \exp\left[ \log p(x_{t+\Delta t} | x_t) + \log p(x_t) - \log p(x_{t+\Delta t}) \right]\\
    &amp;\propto \exp\left[ -\dfrac{1}{2 g^2(t) \Delta t} \| x_{t+\Delta t} - x_t - f_x(t) \Delta t \|^2 + \log p(x_t) - \log p(x_{t+\Delta t}) \right]
\end{align*}
\]</div>
<p>ä¸ºäº†ç®—ä¸‹å»ï¼Œæˆ‘ä»¬è¦å¯¹ <span class="arithmatex">\(\log p(x_{t+\Delta t})\)</span> ä½œå±•å¼€ï¼š</p>
<div class="arithmatex">\[
\log p(x_{t+\Delta t}) \approx \log p(x_t) + (x_{t+\Delta t} - x_t) \cdot \nabla_x \log p(x_t) + O(\Delta t)
\]</div>
<p>ç„¶åä½œå·®ï¼š</p>
<div class="arithmatex">\[
\log p(x_t) - \log p(x_{t+\Delta t}) = -\dfrac{1}{2 g^2(t) \Delta t} \left[ (x_{t+\Delta t} - x_t) \cdot \nabla_x \log p(x_t) \cdot 2 g^2(t) \Delta t \right] + O(\Delta t)
\]</div>
<p>æˆ‘ä»¬çš„ç›®çš„å…¶å®æ˜¯å†™æˆä¸€ä¸ªå’Œæ­£æ€åˆ†å¸ƒç±»ä¼¼çš„ exp åŠ æ¨¡å¹³æ–¹çš„å½¢å¼ã€‚ä¸ºæ­¤ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥é…ä¸€ä¸ª</p>
<div class="arithmatex">\[
\left[ g^2(t) \Delta t \cdot \nabla_x \log p(x_t) \right]^2 + 2 \left[ g^2(t) \nabla_x \log p(x_t) \Delta t \right] \times f_x(t) \Delta t
\]</div>
<p>å› ä¸ºå®ƒä»¬éƒ½æ˜¯ <span class="arithmatex">\(\Delta t\)</span> çš„äºŒé˜¶é¡¹ï¼Œæœ€åéƒ½èƒ½æ¶ˆå¤±ã€‚ä¸è¿‡ï¼Œé…ä¸Šä¹‹åå°±å˜æˆäº†å®Œå…¨å¹³æ–¹å¼ï¼š</p>
<div class="arithmatex">\[
p(x_t | x_{t+\Delta t}) = \exp\left[ -\frac{1}{2 g^2(t) \Delta t} \left\| x_{t+\Delta t} - x_t - \left[ f_x(t) - g^2(t) \nabla_x \log p(x_t) \right] \Delta t \right\|^2 \right]
\]</div>
<p>å†™æˆæ­£æ€åˆ†å¸ƒå½¢å¼ï¼š</p>
<div class="arithmatex">\[
p(x_t | x_{t+\Delta t})\sim \mathcal{N}\bigl( x_t; \ x_{t+\Delta t} - \left[ f_x(t) - g^2(t) \nabla_x \log p(x_{t+\Delta t}) \right] \Delta t, \ g^2(t+\Delta t) \Delta t \cdot I \bigr)
\]</div>
<p>æ±‚æé™ <span class="arithmatex">\(\Delta t\rightarrow 0\)</span>ï¼Œå†ç”±æ¡ä»¶åˆ†å¸ƒè½¬åŒ–ä¸º SDEï¼Œå¾—åˆ°ï¼š</p>
<div class="arithmatex">\[
\mathrm dx = \left[ f[x(t), t] - g^2(t) \nabla_x \log p(x_t) \right] \mathrm dt + g(t) \mathrm dw
\]</div>
<p>è¿™å°±æ˜¯åå‘è¿‡ç¨‹çš„ SDE äº†ã€‚</p>
<p>å¯¹äº <span class="arithmatex">\(f, g\)</span> è€Œè¨€ï¼Œå®ƒä»¬å®Œå…¨ç¡®å®šï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¼°è®¡å¾—åˆ†å‡½æ•° <span class="arithmatex">\(\nabla_x \log p(x_t)\)</span>ï¼›æˆ–è€…æ¢æˆç¦»æ•£å½¢å¼çš„è®°å·ï¼š<span class="arithmatex">\(\nabla \log p(x_i)\)</span>ã€‚</p>
<p>ä½¿ç”¨ä¸€ä¸ªç¥ç»ç½‘ç»œ <span class="arithmatex">\(s_\theta(x_i, i)\)</span> æ¥æ‹Ÿåˆå¾—åˆ†å‡½æ•°ï¼Œå°±å¾—åˆ°ç›®æ ‡å‡½æ•°ï¼š</p>
<div class="arithmatex">\[
\sum_{i=1}^T \lambda_i \mathbb{E}_{x_i \sim p(x_i)} \left[ \| s_\theta(x_i, i) - \nabla \log p(x_i) \|^2 \right] = \mathcal{L}_{\mathrm{DDPM}}
\]</div>
<p>è¿™é‡Œ <span class="arithmatex">\(\lambda_i\)</span> æ˜¯åŸºäº <span class="arithmatex">\(p(x_i)\)</span> å¼•å…¥â€œå™ªå£°å°ºåº¦ä¸ä¸€â€çš„å½’ä¸€åŒ–å› å­ã€‚</p>
<p>è‡³æ­¤ï¼ŒDDPMã€å¾—åˆ†åŒ¹é…å’Œ SDE çš„ç†è®ºå·²ç„¶æ‰“é€šã€‚æˆ‘ä»¬å°±å¯ä»¥åŸºäºä¸°å¯Œå‘å±•çš„ SDE ç†è®ºï¼Œç©ä¸€äº›èŠ±æ´»äº†ã€‚</p>
<h3 id="sde-ode">å°† SDE å˜æˆ ODE<a class="headerlink" href="#sde-ode" title="Permanent link">Â¶</a></h3>
<p>è¿™ä¸€èŠ‚ä»‹ç» Song çš„è®ºæ–‡çš„ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ¦‚ç‡æµ ODE çš„æ¨å¯¼ã€‚</p>
<p>ä¹Ÿå°±æ˜¯ï¼Œå°†</p>
<div class="arithmatex">\[
\mathrm dx = \left[ f[x(t), t] - g^2(t) \nabla_x \log p(x_t) \right] \mathrm dt + g(t) \mathrm dw
\]</div>
<p>è½¬åŒ–ä¸ºæ¦‚ç‡æµ ODEã€‚</p>
<p>æˆ‘ä»¬<strong>è‚¯å®šä¸èƒ½</strong>ç›´æ¥æŠŠ <span class="arithmatex">\(g(t) \mathrm dw\)</span> é¡¹ç»™ä¸¢æ‰ï¼Œå› ä¸ºæ–¹å·®å½±å“äº† SDE è¯¸å¤šè§£çš„â€œå¼¥æ•£ç¨‹åº¦â€ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦è€ƒè™‘è¿™ä¸€é¡¹å¯¹æ€»ä½“è¶‹åŠ¿çš„å½±å“ã€‚æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·çœ‹ï¼šèƒ½ä¸èƒ½ä½¿ç”¨ä»€ä¹ˆæ‰‹æ®µï¼Œæ‰‹åŠ¨å¼•å…¥ä¸€ä¸ªå¯æ§çš„æ–¹å·®ä¹Ÿå°±æ˜¯ <span class="arithmatex">\(\sigma(t) \mathrm dw\)</span> æ¥ä»£æ›¿åŸæ¥æ‰©æ•£é¡¹ï¼Œè¿™æ ·å°±èƒ½é—´æ¥å®ç°æ•´åˆã€‚</p>
<p>è¿™ä¸ªæ‰‹æ®µå°±æ˜¯ Fokker-Planck æ–¹ç¨‹ã€‚</p>
<h4 id="fokker-planck">å‰å‘è¿‡ç¨‹çš„ Fokker-Planck æ–¹ç¨‹<a class="headerlink" href="#fokker-planck" title="Permanent link">Â¶</a></h4>
<p>è€ƒè™‘è®© <span class="arithmatex">\(y\)</span> å’Œ <span class="arithmatex">\(x\)</span> ä¸€ä¸€å¯¹åº”ï¼Œé‚£ä¹ˆ</p>
<div class="arithmatex">\[
p(x)=\int \delta(x-y)p(y)\mathrm dy=\mathbb E_{y}[\delta(x-y)]
\]</div>
<p>é‚£ä¹ˆå¯¹äº <span class="arithmatex">\(p(x_{t+\Delta t})\)</span> è€Œè¨€ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    p(x_{t+\Delta t})&amp;=\mathbb E_{x_{t+\Delta t}}[\delta(x-x_{t+\Delta t})]\\
    &amp;=\mathbb E_{x_{t+\Delta t}}[\delta(x-x_{t}-\Delta x)]\\
    &amp;\approx\mathbb E_{x_{t+\Delta t}}[\delta(x-x_{t})-\Delta x\cdot\nabla_x\delta(x-x_{t})+\dfrac 12 \Delta x^2\cdot\nabla_x^2\delta(x-x_{t})]\\
    &amp;=\mathbb E_{x_{t+\Delta t}}[\delta(x-x_{t})-(f(t)x_t\mathrm dt)\cdot\nabla_x\delta(x-x_{t})+\dfrac 12 g^2(t)\mathrm dt\cdot\nabla_x^2\delta(x-x_{t})]\\
    &amp;=p(x_t)-\nabla_x [f(t)x_t p(x_t)\mathrm dt]+\dfrac 12g^2(t)\mathrm dt\nabla_x^2p(x_t)
\end{align*}
\]</div>
<p>æ­¤å³ä¸º Fokker-Planck æ–¹ç¨‹ï¼š</p>
<div class="arithmatex">\[
\dfrac{\partial p}{\partial t}=-\nabla_x [f(t)x_t p(x_t)]+\dfrac 12g^2(t)\nabla_x^2p(x_t)
\]</div>
<h4 id="_6">æ—¶é—´åæ¼”<a class="headerlink" href="#_6" title="Permanent link">Â¶</a></h4>
<p>æ³¨æ„åˆ°æ•´ä¸ªæ¨å¯¼æ˜¯å’Œå‰å‘è¿‡ç¨‹çš„ <span class="arithmatex">\(\mathrm dt\)</span> å‰é¢çš„ç³»æ•°æ— å…³çš„ï¼Œå› æ­¤å¯¹äºåå‘è¿‡ç¨‹æˆ‘ä»¬ä¹Ÿå¯ä»¥å¸¦è¿›å»å¾—åˆ°ï¼š</p>
<div class="arithmatex">\[
\dfrac{\partial p}{\partial t}=\nabla_x [ \left[ f[x(t), t] - g^2(t) \nabla_x \log p(x_t) \right] p(x_t)]+\dfrac 12g^2(t)\nabla_x^2p(x_t)
\]</div>
<p><strong>ä½†æ˜¯åå‘è¿‡ç¨‹æ˜¯æ—¶é—´åæ¼”çš„ï¼Œå› æ­¤æˆ‘ä»¬è¦å¯¹ç¬¬ä¸€é¡¹åŠ è´Ÿå·ï¼</strong></p>
<p>ç”±äºäºŒé˜¶é¡¹å‰é¢çš„ç³»æ•°ç›´æ¥å¯¹åº” <span class="arithmatex">\(\mathrm dw\)</span> å‰é¢çš„ç³»æ•°ï¼Œè¿™æ ·å°±ç»™äº†æˆ‘ä»¬æ“ä½œç©ºé—´ï¼Œä¹Ÿå°±æ˜¯å¼•å…¥ä¸€ä¸ª <span class="arithmatex">\(\dfrac 12\sigma^2(t)\nabla_x^2p(x_t)\)</span>ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    \dfrac{\partial p}{\partial t}&amp;=\nabla_x [ \left[ f[x(t), t] - g^2(t) \nabla_x \log p(x_t) \right] p(x_t)]+\dfrac 12\nabla_x\left([g^2(t)-\sigma^2(t)]\nabla_x p(x_t)\right)+\dfrac 12\sigma^2(t)\nabla_x^2p(x_t)\\
    &amp;=\nabla_x [ \left[ f[x(t), t] - g^2(t) \nabla_x \log p(x_t) \right] p(x_t)+\dfrac{1}{2}[g^2(t)-\sigma^2(t)]\nabla_x p(x_t)]+\dfrac 12\sigma^2(t)\nabla_x^2p(x_t)\\
    &amp;=\nabla_x [ \left[ f[x(t), t] - \dfrac 12\left(g^2(t)+\sigma^2(t)\right) \nabla_x \log p(x_t) \right] p(x_t)]+\dfrac 12\sigma^2(t)\nabla_x^2p(x_t)
\end{align*}
\]</div>
<p>é‚£ä¹ˆæˆ‘ä»¬æ ¹æ®è¿™ä¸ª Fokker-Planck æ–¹ç¨‹ï¼Œå°±å¯ä»¥å†™å‡ºå¯¹åº”çš„ SDE äº†ï¼Œä½†æ˜¯è¿™ä¸€æ¬¡ï¼Œæ–¹å·®ç”±æˆ‘ä»¬æ§åˆ¶ï¼š</p>
<div class="arithmatex">\[
\mathrm dx = \left[ f[x(t), t] - \dfrac 12\left(g^2(t)+\sigma^2(t)\right) \nabla_x \log p(x_t) \right] \mathrm dt + \sigma(t) \mathrm dw
\]</div>
<p>é‚£ä¹ˆæˆ‘ä»¬è®©æ–¹å·®å˜æˆ <span class="arithmatex">\(0\)</span>ï¼Œå°±å¯ä»¥å¾—åˆ°å¯¹åº”çš„<strong>æ¦‚ç‡æµ ODE</strong> äº†ï¼š</p>
<div class="arithmatex">\[
\mathrm dx = \left[ f(t)x(t) - \dfrac 12g^2(t)\nabla_x \log p(x_t) \right] \mathrm dt
\]</div>
<p>äº‹å®ä¸Šæ ¹æ®ä¹‹å‰çš„ç»“æœï¼Œæˆ‘ä»¬æ˜¯åœ¨ç”¨ç¥ç»ç½‘ç»œ <span class="arithmatex">\(s_{\theta}(x_t,t)\)</span> æ¥æ‹Ÿåˆå¾—åˆ†å‡½æ•° <span class="arithmatex">\(\nabla_x \log p(x_t)\)</span>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬çœŸæ­£éœ€è¦å¯¹ä»˜çš„ ODE æ˜¯è¿™ä¸ªï¼š</p>
<div class="arithmatex">\[
\mathrm dx = \left[ f(t)x(t) - \dfrac 12g^2(t)s_{\theta}(x_t,t) \right] \mathrm dt
\]</div>
<p>è¿™ä¸€ç»“æœä¸ºåé¢çš„è¯¸å¤šé‡‡æ ·å™¨å¥ å®šäº†åŸºç¡€ã€‚å› ä¸ºæˆ‘ä»¬å¯ä»¥ç”¨å„ç§æ–¹æ³•æ¥è§£å‡º <span class="arithmatex">\(x\)</span>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æœŸæœ›ç”Ÿæˆçš„å›¾ç‰‡ï¼Œè€Œæ”¶æ•›æ›´å¿«çš„é‡‡æ ·å™¨å¯ä»¥èŠ±è´¹æ›´å°‘çš„è®¡ç®—ä»£ä»·å¾—åˆ°æ›´ç²¾ç¡®çš„è§£ï¼Œä¹Ÿå°±æ˜¯æ›´é«˜è´¨é‡çš„å›¾ç‰‡ã€‚è€Œè¿™ä¸€åˆ‡ç”šè‡³åªéœ€è¦æˆ‘ä»¬ä¿®æ”¹æ¨ç†çš„ä»£ç ï¼Œå®Œå…¨ä¸éœ€è¦åŠ¨åŸºæ¨¡ã€‚</p>
<h2 id="inference-samplers">Inference: Samplers<a class="headerlink" href="#inference-samplers" title="Permanent link">Â¶</a></h2>
<h3 id="ddpm_1">DDPM<a class="headerlink" href="#ddpm_1" title="Permanent link">Â¶</a></h3>
<p>å›å¿†ä¸€ä¸‹ DDPM çš„è®­ç»ƒï¼š</p>
<div class="arithmatex">\[
x_{i-1}=\mu(x_i) = \frac{1}{\alpha_i} \left[ x_i - \beta_i \varepsilon_\theta(x_i, i) \right]
\]</div>
<p>ä½¿ç”¨çš„æŸå¤±ï¼š</p>
<div class="arithmatex">\[
\| \varepsilon - \frac{\hat{\beta}_i}{\beta_i} \varepsilon_\theta\left( \hat{\alpha}_i x_0 + \beta_i \varepsilon, i \right) \|^2=\|\varepsilon-s_\theta\|^2
\]</div>
<p>ä½†å®é™…ä¸Šæˆ‘ä»¬è®­ç»ƒçš„æ˜¯é¢„æµ‹å™ªå£°ï¼Œå› æ­¤å¾—åˆ°çš„æ˜¯ <span class="arithmatex">\(s_\theta\)</span>ï¼Œæ‰€ä»¥è¦å¾—åˆ° <span class="arithmatex">\(x_{i-1}\)</span> å°±éœ€è¦ï¼š</p>
<div class="arithmatex">\[
x_{i-1}= \frac{1}{\alpha_i} \left[ x_i - \dfrac{\beta_i^2}{\hat\beta_i} s_\theta(x_i, i) \right]+\sigma_i z,\quad z\sim\mathcal{N}(0,I)
\]</div>
<p>å¼•å…¥çš„å™ªå£°é¡¹æ˜¯åŸºäºå’Œåå‘è¿‡ç¨‹çš„å®Œå…¨å¯¹åº”ã€‚è¿™å°±å¾—åˆ°äº† DDPM çš„é‡‡æ ·å…¬å¼ã€‚ä» <span class="arithmatex">\(\mathcal N(0,1)\)</span> ä¸­é‡‡æ ·ä¸€ä¸ª <span class="arithmatex">\(x_T\)</span>ï¼Œç„¶åé€æ­¥å¾€å‰æ¨ï¼Œå°±èƒ½ç”Ÿæˆå›¾ç‰‡äº†ã€‚</p>
<p>è®©æˆ‘ä»¬çœ‹çœ‹ä¸€ä¸ªåœ¨ Anime Face Dataset è®­ç»ƒçš„ DDPM é‡‡æ · 100 æ­¥çš„åŠ¨å›¾å§ï¼š</p>
<div style="text-align: center; margin: 20px 0;">
<img src="../anim_ddpm_s100.gif">
</img></div>
<h3 id="euler-ddim-dpm-solver">Euler, DDIM, DPM Solver<a class="headerlink" href="#euler-ddim-dpm-solver" title="Permanent link">Â¶</a></h3>
<p>æœ¬èŠ‚ä¸»è¦ä»‹ç» arXiv:2206.00927 çš„å·¥ä½œï¼Œä¹Ÿå°±æ˜¯ DPM Solverã€‚</p>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ”¶é›†ä¸€ä¸‹å‰é¢çš„ç†è®ºæˆæœã€‚</p>
<p>é¦–å…ˆï¼Œç»è¿‡æ¼«é•¿çš„ç†è®ºæ¨å¯¼ï¼Œæˆ‘ä»¬å¾—åˆ°äº†è¿™ä¸ªæ¦‚ç‡æµ ODEï¼š</p>
<div class="arithmatex">\[
\mathrm dx = \left[ f(t)x(t) - \dfrac 12g^2(t)s_{\theta}(x_t,t) \right] \mathrm dt
\]</div>
<p>å…¶ä¸­å‡ºç°äº†å¾ˆå¤šå‡½æ•°ï¼Œè¿˜æœ‰ä¸€ä¸ªç¥ç»ç½‘ç»œã€‚åœ¨â€œå˜é‡æ›¿æ¢â€è¿™ä¸€å°èŠ‚ï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š</p>
<div class="arithmatex">\[
f(t)=-\dfrac{\beta(t)}{2}=\dfrac{\mathrm d \log\hat\alpha(t)}{\mathrm dt}
\]</div>
<p>ä»¥åŠ</p>
<div class="arithmatex">\[
g^2(t)=\beta(t)=\dfrac{\mathrm d \hat \beta^2(t)}{\mathrm dt}-\dfrac{2\mathrm d \log\hat\alpha(t)}{\mathrm dt}\hat \beta^2(t)
\]</div>
<p>å…¶ä¸­çš„å‚æ•°å‡½æ•° <span class="arithmatex">\(\hat\alpha\)</span> å’Œ <span class="arithmatex">\(\hat\beta\)</span> æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥é€šè¿‡æˆ‘ä»¬çš„å‚æ•°è°ƒåº¦ <span class="arithmatex">\(\alpha_i\)</span> å’Œ <span class="arithmatex">\(\beta_i\)</span> è½»æ¾è®¡ç®—å‡ºæ¥ã€‚</p>
<p>å…¶ä¸­çš„ç¥ç»ç½‘ç»œ <span class="arithmatex">\(s_\theta(x_t,t)\)</span> æ˜¯é€šè¿‡å¾—åˆ†åŒ¹é…å¾—åˆ°çš„ï¼Œä¹Ÿå°±æ˜¯åˆ©ç”¨ <span class="arithmatex">\(\mathcal{L}_\mathrm{DDPM}\)</span> æ¥é¢„æµ‹å™ªå£°ä¹Ÿå°±æ˜¯è¿‘ä¼¼å¾—åˆ†å‡½æ•°ï¼š</p>
<div class="arithmatex">\[
s_\theta(x_t,t)\sim\nabla_{x_t}\log p(x_t|x_0)=-\dfrac{\hat\varepsilon_t}{\hat\beta_t}
\]</div>
<p>ç°åœ¨è¿™ä¸ªç½‘ç»œå·²ç»è®­ç»ƒå¥½äº†ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼Œå¿«å»è®­ç»ƒï¼ï¼‰ï¼Œä¹Ÿå°±æ˜¯æ¦‚ç‡æµ ODE é‡Œé¢çš„ <span class="arithmatex">\(f\)</span>, <span class="arithmatex">\(g^2\)</span> ä»¥åŠ <span class="arithmatex">\(s_\theta\)</span> å·²ç»ç¡®å®šäº†ï¼Œå°±å‰©æˆ‘ä»¬çš„æ ·æœ¬ <span class="arithmatex">\(x\)</span> éœ€è¦ç”Ÿæˆäº†ã€‚</p>
<h4 id="euler">ç®€å• Euler æ³•<a class="headerlink" href="#euler" title="Permanent link">Â¶</a></h4>
<p>æœ€ç®€å•æœ€æœ´å®çš„æ–¹æ³•å°±æ˜¯å°†æ¦‚ç‡æµ ODE çœ‹æˆ</p>
<div class="arithmatex">\[
\mathrm{d}x = \epsilon_\theta(x_t, t)\mathrm{d} t
\]</div>
<p>ç„¶åç¦»æ•£åŒ–ï¼š</p>
<div class="arithmatex">\[
\Delta x = \epsilon_\theta(x_t, t)\Delta t\Rightarrow x_{t-1}=x_t+\epsilon_\theta(x_t, t)\Delta t=[1-\dfrac{\beta(t)}{2T}]x_t-\dfrac{\beta(t)}{2T}s_\theta
\]</div>
<p>æœ€åå¾—åˆ°</p>
<div class="arithmatex">\[
x_{t-1}=[1-\dfrac{\beta(t)}{2T}]x_t-\dfrac{\beta(t)}{2T\hat\beta_t}\varepsilon_\theta
\]</div>
<p>å½“ç„¶è¿™é‡Œçš„ç¦»æ•£åŒ–æˆ‘åªæŒ‘äº†æœ€ç®€å•çš„çº¿æ€§è¿‘ä¼¼ï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨ Runge-Kutta æ³•æ±‚è§£ã€‚åŒæ—¶è¿˜å¯ä»¥åƒ DDPM é‡‡æ ·å™¨ä¸€æ ·ï¼Œæ·»å…¥ä¸€ä¸ªå™ªå£°é¡¹å¾—åˆ°ç¥–å…ˆé‡‡æ ·å™¨ï¼ˆåå­—åé¢å¸¦ a çš„ï¼‰ã€‚</p>
<h4 id="ddim">DDIM<a class="headerlink" href="#ddim" title="Permanent link">Â¶</a></h4>
<p>æ¦‚ç‡æµ ODE ç›¸å¯¹æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒå¯ä»¥æ‹†æˆä¸¤åŠï¼Œå‰é¢ä¸å«ç¥ç»ç½‘ç»œå‚æ•°ï¼Œåé¢åªå«æœ‰ç¥ç»ç½‘ç»œå‚æ•°ï¼š</p>
<div class="arithmatex">\[
\mathrm dx = \underbrace{f(t)x(t)\mathrm dt}_{\mathrm{Linear\ part}} - \underbrace{\dfrac 12g^2(t)s_{\theta}(x_t,t)  \mathrm dt}_\mathrm{Neural\ part}
\]</div>
<p>ç”±äº <span class="arithmatex">\(f\)</span> å·²çŸ¥ï¼Œæ‰€ä»¥å‰é¢çš„çº¿æ€§é¡¹å¯ä»¥ç²¾ç¡®åœ°ç§¯å‡ºæ¥ï¼ä¹Ÿå°±æ˜¯åˆ©ç”¨å¸¸æ•°å˜æ˜“æ³•ï¼š</p>
<div class="arithmatex">\[
x_t=\exp\left(\int_s^tf(\tau)\mathrm{d}\tau\right)x_s-\int_s^t\left(\exp(\int_\tau^tf(r)\mathrm{d}r)\cdot \dfrac 12g^2(\tau)s_{\theta}(x_\tau,\tau)\right)\mathrm{d}\tau
\]</div>
<p>ç„¶åç¬¬ä¸€é¡¹å°±å¯ä»¥ç›´æ¥ç§¯å‡ºæ¥äº†ï¼š</p>
<div class="arithmatex">\[
f(t)=\dfrac{\mathrm d \log\hat\alpha(t)}{\mathrm dt}\Rightarrow \exp\left(\int_s^tf(\tau)\mathrm{d}\tau\right)=\dfrac{\hat\alpha(t)}{\hat\alpha(s)}
\]</div>
<p>å¯¹ <span class="arithmatex">\(g^2\)</span> åšä¸€ä¸ªæ¢å…ƒï¼š</p>
<div class="arithmatex">\[
g^2(t)=\dfrac{\mathrm d \hat \beta^2(t)}{\mathrm dt}-\dfrac{2\mathrm d \log\hat\alpha(t)}{\mathrm dt}\hat \beta^2(t)=2\hat\beta^2(t)\left(\dfrac{\mathrm d\log\hat\beta(t)}{\mathrm dt}-\dfrac{\mathrm d \log\hat\alpha(t)}{\mathrm dt}\right):=-2\hat\beta^2(t)\dfrac{\mathrm d\lambda(t)}{\mathrm dt}
\]</div>
<p>ä¸¢è¿›å‰é¢çš„å¼å­ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    x_t&amp;=\exp\left(\int_s^tf(\tau)\mathrm{d}\tau\right)x_s-\int_s^t\left(\exp(\int_\tau^tf(r)\mathrm{d}r)\cdot \dfrac 12g^2(\tau)s_{\theta}(x_\tau,\tau)\right)\mathrm{d}\tau\\
    &amp;=\dfrac{\hat\alpha(t)}{\hat\alpha(s)}x_s+\int^t_s\left(\dfrac{\hat\alpha(t)}{\hat\alpha(\tau)}\hat\beta^2(\tau)\dfrac{\mathrm d\lambda(\tau)}{\mathrm d\tau}s_{\theta}(x_\tau,\tau)\right)\mathrm{d}\tau\\
    &amp;=\dfrac{\hat\alpha(t)}{\hat\alpha(s)}x_s-\hat\alpha(t)\int^t_s\left(\dfrac{\hat\beta(\tau)}{\hat\alpha(\tau)}\dfrac{\mathrm d\lambda(\tau)}{\mathrm d\tau}\varepsilon_{\theta}(x_\tau,\tau)\right)\mathrm{d}\tau\\
    &amp;=\dfrac{\hat\alpha(t)}{\hat\alpha(s)}x_s-\hat\alpha(t)\int^{\lambda_t}_{\lambda_s}e^{-\lambda}\varepsilon_{\theta}(x_{\lambda},\lambda)\mathrm{d}\lambda
\end{align*}
\]</div>
<p>æœ€åä¸€æ­¥æ˜¯æ¢å…ƒï¼Œåˆ©ç”¨äº†ï¼š</p>
<div class="arithmatex">\[
\dfrac{\mathrm d\log\hat\beta(t)}{\mathrm dt}-\dfrac{\mathrm d \log\hat\alpha(t)}{\mathrm dt}=\dfrac{\mathrm d \log\dfrac{\hat\beta(t)}{\hat\alpha(t)}}{\mathrm dt}=-\dfrac{\mathrm d\lambda(t)}{\mathrm dt}
\]</div>
<p>ä¸‹é¢çš„ä»»åŠ¡æ˜¯å¯¹ç§¯åˆ†</p>
<div class="arithmatex">\[
\int^{\lambda_t}_{\lambda_s}e^{-\lambda}\varepsilon_{\theta}(x_{\lambda},\lambda)\mathrm{d}\lambda
\]</div>
<p>è¿›è¡Œè¿‘ä¼¼ã€‚æˆ‘ä»¬è€ƒè™‘æœ€ç®€å•çš„è¿‘ä¼¼æ³•ï¼ŒæŠŠç¥ç»ç½‘ç»œçš„å‚æ•°çœ‹ä½œå¸¸é‡ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    \int^{\lambda_t}_{\lambda_s}e^{-\lambda}\varepsilon_{\theta}(x_{\lambda},\lambda)\mathrm{d}\lambda&amp;\approx\varepsilon_{\theta}(x_{\lambda_s},\lambda_s)\int^{\lambda_t}_{\lambda_s}e^{-\lambda}\mathrm{d}\lambda\\
    &amp;=(e^{-\lambda_s}-e^{-\lambda_t})\varepsilon_{\theta}(x_{\lambda_s},\lambda_s)\\
    &amp;=e^{-\lambda_t}(e^{h_i}-1)\varepsilon_{\theta}(x_{\lambda_s},\lambda_s)\\
    &amp;=\dfrac{\hat\beta(t)}{\hat\alpha(t)}(e^{h_i}-1)\varepsilon_{\theta}(x_{\lambda_s},\lambda_s),\quad h_i=\lambda_t-\lambda_s
\end{align*}
\]</div>
<p>è¿™æ ·æˆ‘ä»¬å°±å¾—åˆ°äº†<strong>ä¸€é˜¶è¿‘ä¼¼</strong>ï¼Œä¹Ÿå°±æ˜¯ DDIM é‡‡æ ·å™¨ï¼š</p>
<div class="arithmatex">\[
x_{t-1}=\dfrac{\hat\alpha(t)}{\hat\alpha(t-1)}x_t-\hat\beta(t)(e^{h_i}-1)\varepsilon_{\theta}(x_{\lambda_{t-1}},\lambda_{t-1}),\quad h_i=\lambda_t-\lambda_{t-1}
\]</div>
<h4 id="dpm-solvers">DPM Solvers<a class="headerlink" href="#dpm-solvers" title="Permanent link">Â¶</a></h4>
<p>å…¶å®è¿™ä¸ªç§¯åˆ†</p>
<div class="arithmatex">\[
\int^{\lambda_t}_{\lambda_s}e^{-\lambda}\varepsilon_{\theta}(x_{\lambda},\lambda)\mathrm{d}\lambda
\]</div>
<p>è¿˜æœ‰æ›´å¥½çš„è¿‘ä¼¼æ–¹æ³•ã€‚åˆšåˆšæ˜¯æŠŠ <span class="arithmatex">\(\varepsilon_{\theta}(x_{\lambda},\lambda)\)</span> ä¼°è®¡æˆå¸¸æ•°ï¼Œä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹å…¶è¿›è¡Œæ³°å‹’å±•å¼€ï¼š</p>
<div class="arithmatex">\[
\varepsilon_{\theta}(x_{\lambda},\lambda)=\sum^{k-1}_{n=0}\varepsilon_{\theta}^{(n)}(x_{\lambda_{i-1}},\lambda_{i-1})\cdot\dfrac{(\lambda-\lambda_{i-1})^n}{n!}
\]</div>
<p>å¯¹å„é˜¶å¯¼æ•°ä¼°è®¡åˆ°å¸¸æ•°ï¼Œå°±åªå‰©ä¸‹äº†</p>
<div class="arithmatex">\[
\int^{\lambda_t}_{\lambda_s}e^{-\lambda}\dfrac{(\lambda-\lambda_{i-1})^n}{n!}\mathrm{d}\lambda
\]</div>
<p>è¦æ±‚å‡ºæ¥ï¼Œè€Œè¿™æ˜¯ä¸€ä¸ªæ­£æ•´æ•°æ¬¡æ•°å¤šé¡¹å¼ä¹˜ä»¥æŒ‡æ•°çš„ç§¯åˆ†ï¼Œ<strong>å®Œå…¨å¯ä»¥ä½¿ç”¨åˆ†éƒ¨ç§¯åˆ†æ³•è§£å‡ºè§£æè§£</strong>ï¼</p>
<p>æˆ‘ä»¬å–å‰ <span class="arithmatex">\(k\)</span> é˜¶æ³°å‹’å±•å¼€å¾—åˆ°çš„é‡‡æ ·å™¨ï¼Œå°±å«åš DPM-Solver-kã€‚å…·ä½“çš„ç§¯åˆ†è®¡ç®—ï¼Œå¯ä»¥äº¤ç»™ Mathematica å¾—åˆ°é—­å¼è§£ã€‚äºæ˜¯å¯ä»¥å¾—åˆ°è®ºæ–‡é‡Œé¢çš„é‡‡æ ·å™¨æµç¨‹äº†ï¼š</p>
<p>DPM-Solver-2:</p>
<div class="arithmatex">\[
\begin{align*}
&amp;\mathrm{Require}: \text{ initial value } x_T, \text{ time steps } \{t_i\}_{i=0}^M, \text{ model } \epsilon_\theta \\
&amp;\tilde{x}_{t_0} \leftarrow x_T \\
&amp;\mathrm{for} \ i \leftarrow 1 \ \mathrm{to} \ M \ \mathrm{do} \\
&amp;\quad s_i \leftarrow \lambda \left( \frac{\lambda t_{i-1} + \lambda t_i}{2} \right) \\
&amp;\quad u_i \leftarrow \frac{\alpha_{s_i}}{\alpha_{t_{i-1}}} \tilde{x}_{t_{i-1}} - \sigma_{s_i} \left( e^{\frac{h_i}{2}} - 1 \right) \epsilon_\theta(\tilde{x}_{t_{i-1}}, t_{i-1}) \\
&amp;\quad \tilde{x}_{t_i} \leftarrow \frac{\alpha_{t_i}}{\alpha_{t_{i-1}}} \tilde{x}_{t_{i-1}} - \sigma_{t_i} \left( e^{h_i} - 1 \right) \epsilon_\theta(u_i, s_i) \\
&amp;\mathrm{end \ for} \\
&amp;\mathrm{return} \ \tilde{x}_{t_M}
\end{align*}
\]</div>
<p>ä»¥åŠ DPM-Solver-3:</p>
<div class="arithmatex">\[
\begin{align*}
&amp;\mathrm{Require}: \text{ initial value } x_T, \text{ time steps } \{t_i\}_{i=0}^M, \text{ model } \epsilon_\theta \\
&amp;\tilde{x}_{t_0} \leftarrow x_T, \ r_1 \leftarrow \frac{1}{3}, \ r_2 \leftarrow \frac{2}{3} \\
&amp;\mathrm{for} \ i \leftarrow 1 \ \mathrm{to} \ M \ \mathrm{do} \\
&amp;\quad s_{2i-1} \leftarrow t_\lambda \left( \lambda t_{i-1} + r_1 h_i \right), \quad s_{2i} \leftarrow t_\lambda \left( \lambda t_{i-1} + r_2 h_i \right) \\
&amp;\quad u_{2i-1} \leftarrow \frac{\alpha_{s_{2i-1}}}{\alpha_{t_{i-1}}} \tilde{x}_{t_{i-1}} - \sigma_{s_{2i-1}} \left( e^{r_1 h_i} - 1 \right) \epsilon_\theta(\tilde{x}_{t_{i-1}}, t_{i-1}) \\
&amp;\quad D_{2i-1} \leftarrow \epsilon_\theta(u_{2i-1}, s_{2i-1}) - \epsilon_\theta(\tilde{x}_{t_{i-1}}, t_{i-1}) \\
&amp;\quad u_{2i} \leftarrow \frac{\alpha_{s_{2i}}}{\alpha_{t_{i-1}}} \tilde{x}_{t_{i-1}} - \sigma_{s_{2i}} \left( e^{r_2 h_i} - 1 \right) \epsilon_\theta(\tilde{x}_{t_{i-1}}, t_{i-1}) - \frac{\sigma_{s_{2i}} r_2}{r_1} \left( \frac{e^{r_2 h_i} - 1}{r_2 h_i} - 1 \right) D_{2i-1} \\
&amp;\quad D_{2i} \leftarrow \epsilon_\theta(u_{2i}, s_{2i}) - \epsilon_\theta(\tilde{x}_{t_{i-1}}, t_{i-1}) \\
&amp;\quad \tilde{x}_{t_i} \leftarrow \frac{\alpha_{t_i}}{\alpha_{t_{i-1}}} \tilde{x}_{t_{i-1}} - \sigma_{t_i} \left( e^{h_i} - 1 \right) \epsilon_\theta(\tilde{x}_{t_{i-1}}, t_{i-1}) - \frac{\sigma_{t_i}}{r_2} \left( \frac{e^{h_i} - 1}{h_i} - 1 \right) D_{2i} \\
&amp;\mathrm{end \ for} \\
&amp;\mathrm{return} \ \tilde{x}_{t_M}
\end{align*}
\]</div>
<h2 id="appendices">Appendices<a class="headerlink" href="#appendices" title="Permanent link">Â¶</a></h2>
<h3 id="i">I. å¸ƒæœ—è¿åŠ¨çš„äºŒæ¬¡å˜åˆ†<a class="headerlink" href="#i" title="Permanent link">Â¶</a></h3>
<p>æˆ‘ä»¬è¦æ¨å¯¼ä¸€ä¸ªå¸ƒæœ—è¿åŠ¨ <span class="arithmatex">\(B(t)\)</span> æ»¡è¶³ <span class="arithmatex">\(\mathrm dB=\sqrt{\mathrm dt}\)</span>ï¼Œå³ <span class="arithmatex">\((\mathrm{d}B)^2=\mathrm{d}t\)</span>ã€‚</p>
<p>æˆ‘ä»¬æ¢æˆç§¯åˆ†å¼ï¼Œä¹Ÿå°±æ˜¯åœ¨ <span class="arithmatex">\([0,T]\)</span> å†…æœ‰</p>
<div class="arithmatex">\[
\int_0^T (\mathrm{d}B)^2=\int_0^T\mathrm{d}t=T
\]</div>
<p>æ¢æˆå®šä¹‰å¼ï¼Œä¹Ÿå°±æ˜¯å¯¹è¯¥åŒºé—´çš„ä¸€ä¸ªåˆ’åˆ† <span class="arithmatex">\(\Pi\)</span>ï¼Œæœ€å¤§æ­¥é•¿è®°ä½œ <span class="arithmatex">\(|\Pi|\)</span>ï¼Œç„¶åè¯æ˜æé™ï¼š</p>
<div class="arithmatex">\[
\lim_{|\Pi|\rightarrow0}\sum_{i}[B(t_{i+1})-B(t_i)]^2=\lim_{|\Pi|\rightarrow0} S_n=T
\]</div>
<p>è¿™å°±æ˜¯å¸ƒæœ—è¿åŠ¨çš„<strong>äºŒæ¬¡å˜åˆ†</strong>ã€‚ç”±äºå¸ƒæœ—è¿åŠ¨çš„ç‹¬ç«‹æ€§ï¼Œæœ‰</p>
<div class="arithmatex">\[
B(t_{i+1})-B(t_i)=\Delta B_i\sim N(0,\Delta t_i)
\]</div>
<p>åˆ™æ ¹æ®æ­£æ€åˆ†å¸ƒäºŒé˜¶çŸ©çš„æ€§è´¨ï¼Œ <span class="arithmatex">\(\mathbb{E}[(\Delta B_i)^2]=\Delta t_i\)</span>ï¼Œå åœ¨ä¸€èµ·å°±å¯ä»¥å¾—åˆ°</p>
<div class="arithmatex">\[
\mathbb{E}[S_n]=\sum\Delta t_i=\int_0^T\mathrm{d}t=T
\]</div>
<p>è€Œ <span class="arithmatex">\(\mathrm{Var}[(\Delta B_i)^2]=\mathbb{E}[(\Delta B_i)^4]-\mathbb{E}[(\Delta B_i)^2]^2=3(\Delta t_i)^2-(\Delta t_i)^2=2(\Delta t_i)^2\)</span>ï¼Œå³</p>
<div class="arithmatex">\[
\mathrm{Var}[S_n]=\sum 2(\Delta t_i)^2\le 2|\Pi|T
\]</div>
<p>æ•… <span class="arithmatex">\(|\Pi|\to 0\)</span> åˆ™ <span class="arithmatex">\(\mathrm{Var}[S_n]\to 0\)</span>ï¼Œæ ¹æ®å¤§æ•°å®šå¾‹ï¼Œ</p>
<div class="arithmatex">\[
\lim_{|\Pi|\rightarrow0} S_n=\lim_{|\Pi|\rightarrow0} \mathbb{E}[S_n]=T
\]</div>
<p>è¿™æ ·å°±å¾—åˆ°äº† <span class="arithmatex">\((\mathrm{d}B)^2=\mathrm{d}t\)</span>ã€‚</p>
<p>é¢˜å¤–è¯ï¼šç”±äºå¸ƒæœ—è¿åŠ¨æ˜¯å¤„å¤„è¿ç»­å¤„å¤„ä¸å¯å¯¼çš„ï¼Œè¿™æ‰å¯¼è‡´äº†å…¶äºŒæ¬¡å˜åˆ†çš„å€¼ä¸ä¸ºé›¶ã€‚è€ƒè™‘ä¸€ä¸ªè¿ç»­å‡½æ•° <span class="arithmatex">\(f\)</span>ï¼Œæˆ‘ä»¬æ¥è€ƒè™‘å…¶äºŒæ¬¡å˜åˆ†ï¼Œåˆ©ç”¨ä¸­å€¼å®šç†ï¼š</p>
<div class="arithmatex">\[
\begin{align*}
    \lim_{|\Pi|\rightarrow0}\sum_{i}[f(t_{i+1})-f(t_i)]^2&amp;=\lim_{|\Pi|\rightarrow0}\sum_{i}[\Delta t_i f'(s_i)]^2\\
    &amp;\le \lim_{|\Pi|\rightarrow0}|\Pi|\sup_{x\in[0,T]} f(x) \sum_i\Delta t_i\\
    &amp;=\lim_{|\Pi|\rightarrow0}|\Pi|\sup_{x\in[0,T]} f(x) T\\
    &amp;=\lim_{|\Pi|\rightarrow0}O(|\Pi|)\\
    &amp;=0
\end{align*}
\]</div>
<p>è¿™å…¶å®æ­ç¤ºäº†éšæœºè¿‡ç¨‹å’Œè¿ç»­è¿‡ç¨‹è›®æœ¬æœ¬è´¨çš„ä¸€ä¸ªåŒºåˆ«ç‚¹ã€‚</p>
<div class="admonition info">
<p class="admonition-title">ğŸ“ å¦‚æœæ‚¨éœ€è¦å¼•ç”¨æœ¬æ–‡</p>
<p>Yan Li. (Oct. 9, 2025). æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ— [Blog post]. Retrieved from <a href="https://dicaeopolis.github.io/DNN/model-expr/DDPM">https://dicaeopolis.github.io/DNN/model-expr/DDPM</a></p>
<p>åœ¨ BibTeX æ ¼å¼ä¸­ï¼š
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1">1</a></span>
<span class="normal"><a href="#__codelineno-0-2">2</a></span>
<span class="normal"><a href="#__codelineno-0-3">3</a></span>
<span class="normal"><a href="#__codelineno-0-4">4</a></span>
<span class="normal"><a href="#__codelineno-0-5">5</a></span>
<span class="normal"><a href="#__codelineno-0-6">6</a></span>
<span class="normal"><a href="#__codelineno-0-7">7</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a>@online{DDPM,
<a id="__codelineno-0-2" name="__codelineno-0-2"></a>    title={æ‰©æ•£æ¨¡å‹ç†è®ºç¯‡: ä»å¤šé˜¶æ®µå˜åˆ†è‡ªç¼–ç å™¨åˆ°æ¦‚ç‡æµå¸¸å¾®åˆ†æ–¹ç¨‹é‡‡æ ·å™¨ç³»åˆ—},
<a id="__codelineno-0-3" name="__codelineno-0-3"></a>    author={Yan Li},
<a id="__codelineno-0-4" name="__codelineno-0-4"></a>    year={2025},
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>    month={Oct},
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    url={\url{https://dicaeopolis.github.io/DNN/model-expr/DDPM}},
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>}
</code></pre></div></td></tr></table></div></p>
</div>
<form class="md-feedback" hidden="" name="feedback">
<fieldset>
<legend class="md-feedback__title">
        Was this page helpful?
      </legend>
<div class="md-feedback__inner">
<div class="md-feedback__list">
<button class="md-feedback__icon md-icon" data-md-value="1" title="This page was helpful" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"></path></svg>
</button>
<button class="md-feedback__icon md-icon" data-md-value="0" title="This page could be improved" type="submit">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"></path></svg>
</button>
</div>
<div class="md-feedback__note">
<div data-md-value="1" hidden="">
              
              
                
              
              
              
                
                
              
              Thanks for your feedback!
            </div>
<div data-md-value="0" hidden="">
              
              
                
              
              
              
                
                
              
              Thanks for your feedback! Help us improve this page by using our <a href="..." rel="noopener" target="_blank">feedback form</a>.
            </div>
</div>
</div>
</fieldset>
</form>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.code.copy", "content.code.select", "navigation.titles", "navigation.tabs", "navigation.indexes"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
<script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
<script src="../../../assets/js/custom.js"></script>
<script src="../../../themes/js/custom.js"></script>
<script src="../../../themes/js/simpleLightbox.min.js"></script>
<script src="../../../themes/js/optionalConfig.js"></script>
<script src="../../../themes/js/mermaidloader.js"></script>
<script src="../../../themes/js/umlconvert.js"></script>
<script src="../../../themes/js/mathjax.js"></script>
<script src="../../../themes/js/katex.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.17.1/flowchart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.6/underscore-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mermaid-js/mermaid-mindmap@9.3.0/dist/diagram-definition.0faef4c2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/markdown-it-plantuml@1.4.1/index.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/webfont/1.6.28/webfontloader.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-mml-chtml.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-chtml.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-chtml-full.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-svg-full.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/contrib/auto-render.min.js"></script>
</body>
</html>